(this.webpackJsonpPrimeCostApp=this.webpackJsonpPrimeCostApp||[]).push([[0],{182:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),r=t(34),i=t.n(r),c=(t(15),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,188)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,r=a.getLCP,i=a.getTTFB;t(e),n(e),s(e),r(e),i(e)}))}),o=t(85),l=(t(26),t(51)),d=t(88),u=t(50),j=t(40),h=t(9),m={floatPrecision:4,floatPrecisionSecondary:5,floatPrecisionThird:6},b=t(21),p=t(0),O=window.require("electron").ipcRenderer,g=t(20);var x=function(){var e=Object(b.f)();function a(a,t){a!==e.location.pathname&&e.push(a)}return Object(p.jsx)(l.a,{bg:"dark",variant:"dark",sticky:"top",children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(l.a.Brand,{onClick:function(){return a("/")},children:"Main page"}),Object(p.jsx)(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsx)(d.a,{className:"me-auto",children:Object(p.jsxs)(u.a,{id:"nav-dropdown-dark-example",title:"General",menuVariant:"dark",children:[Object(p.jsx)(u.a.Item,{onClick:function(){return a("/raw-material-all")},children:"Raw Material"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/package-all")},children:"Package"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/workers-all")},children:"Workers list"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/electricity")},children:"Electricity price"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/fixed-cost-all")},children:"Fixed costs"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/alcohol-tax")},children:"Excise tax"})]})}),Object(p.jsx)(d.a,{children:Object(p.jsx)(d.a.Link,{onClick:function(){e.goBack()},children:"go back"})}),Object(p.jsx)(h.a,{variant:"outline-success",onClick:function(){var e=JSON.parse(O.sendSync("get-data")),a=g.chain(e).get("produkti").value(),t=e.izejvielas,n=[];a.forEach((function(e){if("Bottles"===e.grupa){var a=e.izejvielas,t=e["fiks\u0113tie"],s=e.udens_sagatavosana,r=e.iepakojums.elementi,i=e["ra\u017eo\u0161anas_grupas"],c=e.elektriba,o=e.deposit,l=0,d=0;a.forEach((function(e){l+=e.kopuma})),s.forEach((function(e){l+=e.cena})),r.forEach((function(e){l+=e.summa_vien,d+=e.summa_vien})),i.forEach((function(e){e.darbinieki.forEach((function(e){l+=e.summa_vien}))})),l+=c.summa,l+=t.summa;var u=(l+=o)-o-d;e.cena=l.toFixed(m.floatPrecisionThird),e["cena(bez iepak.)"]=u.toFixed(m.floatPrecisionThird),n.push(e)}})),a.forEach((function(e){if("Bottles"===e.grupa){var n=g.chain(t).find({nosaukums:e.nosaukums}).value();if(void 0===n){var s={kods:"pudele",nosaukums:e.nosaukums,mervieniba:"gab",cena:e["cena(bez iepak.)"]};t.push(s)}else n.cena=e["cena(bez iepak.)"];a.forEach((function(a){var t=g.chain(a).get("izejvielas").find({nosaukums:e.nosaukums}).value();if(void 0!==t){var n=e["cena(bez iepak.)"]*t.daudzums;g.chain(t).assign({cena:e["cena(bez iepak.)"]}).assign({kopuma:parseFloat(n)}).value()}}))}})),a.forEach((function(e){var a=e.izejvielas,t=e["fiks\u0113tie"],n=e.udens_sagatavosana,s=e.iepakojums.elementi,r=e["ra\u017eo\u0161anas_grupas"],i=e.elektriba,c=e.deposit,o=e.alcohol_tax,l=0;a.forEach((function(e){l+=e.kopuma})),n.forEach((function(e){l+=e.cena})),s.forEach((function(e){l+=e.summa_vien})),r.forEach((function(e){e.darbinieki.forEach((function(e){l+=e.summa_vien}))})),l+=i.summa,l+=t.summa,l+=c,null!=o&&(l+=o.summa),e.cena=l})),O.sendSync("modify-data",[JSON.stringify(e)])},children:"Calculate prime price"})]})})},f=window.require("electron").ipcRenderer;function v(){var e=JSON.parse(f.sendSync("get-data")),a=e.grupas,t=e.produkti,n=[];return a.forEach((function(e){var a=t.filter((function(a){return a.grupa===e.nosaukums}));n.push(Object(p.jsx)(k,{groupName:e.nosaukums,productList:a},e.nosaukums))})),Object(p.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Code"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Euro/unit"})]})}),Object(p.jsx)("tbody",{children:n})]})}function k(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("tr",{className:"table-secondary",children:Object(p.jsx)("td",{colSpan:"3",children:e.groupName})}),Object(p.jsx)(y,{productList:e.productList})]})}function y(e){var a=e.productList,t=[];return a.forEach((function(e){t.push(Object(p.jsx)(S,{item:e},e.nosaukums))})),t}function S(e){var a=Object(b.f)();return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{className:"product-cell",onClick:function(){a.push("/product-"+e.item.kods)},children:e.item.nosaukums}),Object(p.jsx)("td",{children:parseFloat(e.item.cena).toFixed(m.floatPrecision)})]})}var N=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)(v,{})]})},C=t(4),w=t(2),F=t(3),A=t(58),z=t(42),_=t(18),P=t(19),M=t(23),J=t(24),E=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(){return Object(_.a)(this,t),a.apply(this,arguments)}return Object(P.a)(t,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(p.jsx)(V,{headerNames:this.props.headerNames}),this.props.tableBody]})})}}]),t}(s.a.Component);function V(e){var a=[];return e.headerNames.forEach((function(e){a.push(Object(p.jsx)("th",{children:e},e.toString()))})),Object(p.jsx)("thead",{className:"text-center",children:Object(p.jsx)("tr",{children:a})})}var G=E,D=window.require("electron").ipcRenderer;var B=function(e){return Object(p.jsx)("div",{className:"addEntryButtons",children:Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(a){return t={to:"produkti",from:e.from,type:"all"},void D.send("expenses-add-window",[e.nosaukums,JSON.stringify(t)]);var t},children:"Add new item"})})},q=(t(91),window.require("electron").ipcRenderer),T=t(20);function R(e){var a=JSON.parse(q.sendSync("get-data")),t=T.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("izejvielas").value(),n=[],s=0,r=0;return t.forEach((function(a){n.push(Object(p.jsx)(I,Object(w.a)({item:a,productName:e.nosaukums},e),a.nosaukums)),s+=a.kopuma,"gab"!==a.mervieniba&&(r+=a.daudzums)})),Object(p.jsxs)("tbody",{children:[n,Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"text-end fw-bold",children:"Sum:"}),Object(p.jsx)("td",{children:parseFloat(r).toFixed(2)+" (kg, l)"}),Object(p.jsx)("td",{children:parseFloat(s).toFixed(m.floatPrecisionSecondary)})]})]})}function I(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(parseFloat(e.item.daudzums)),u=Object(C.a)(d,2),j=u[0],h=u[1],b=Object(n.useState)(!1),O=Object(C.a)(b,2),g=O[0],x=O[1],f=parseFloat(e.item.kopuma);return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:Object(p.jsx)(L,{validated:o,cena:s,handleChange:function(e){r(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),l(!0);else{l(!1);var n=j*s,r=JSON.parse(q.sendSync("get-data"));T.chain(r).get(e.type).find({nosaukums:e.productName}).get("izejvielas").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).assign({kopuma:parseFloat(n)}).value(),q.sendSync("modify-data",[JSON.stringify(r)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:Object(p.jsx)(H,{validated:g,daudzums:j,handleChange:function(e){h(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),x(!0);else{x(!1);var n=t.target.value,r=n*s,i=JSON.parse(q.sendSync("get-data"));T.chain(i).get(e.type).find({nosaukums:e.productName}).get("izejvielas").find({nosaukums:e.item.nosaukums}).assign({daudzums:parseFloat(n)}).assign({kopuma:parseFloat(r)}).value(),q.sendSync("modify-data",[JSON.stringify(i)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:parseFloat(f).toFixed(m.floatPrecision+1)}),Object(p.jsx)("td",{children:Object(p.jsx)(K,Object(w.a)({izejvielaName:e.item.nosaukums,productName:e.productName,fileName:e.fileName},e))})]})}function L(e){return Object(p.jsx)(j.a,{children:Object(p.jsx)(A.a,{children:Object(p.jsx)(z.a,{children:Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"cena",type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:e.cena,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})})})})}function H(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.daudzums,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})}function K(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=e.izejvielaName,t=JSON.parse(q.sendSync("get-data"));q.send("warning-delete"),q.on("confirm-delete",(function(n,s){T.chain(t).get(e.type).find({nosaukums:e.productName}).get("izejvielas").remove({nosaukums:a}).value(),q.sendSync("modify-data",[JSON.stringify(t)])}))}(e.fileName)},children:"remove"})}var W=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"Raw materials"}),Object(p.jsx)(G,{headerNames:["Code","Name","Measure","Price","Amount","Price/unit","Remove"],tableBody:Object(p.jsx)(R,Object(w.a)({},e))}),Object(p.jsx)(B,{nosaukums:e.nosaukums,type:e.type,from:"izejvielas"})]})},U=window.require("electron").ipcRenderer,Q=t(20);function X(e){var a=JSON.parse(U.sendSync("get-data")),t=Q.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value(),s=Q.chain(a).get("fiks\u0113tie").value(),r=t["fiks\u0113tie"],i=Object(n.useState)(r.vien_daudzums),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(C.a)(d,2),j=u[0],h=u[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"General price for one unit:"}),Object(p.jsx)("td",{className:"col-md-6",children:s.vien_summa.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"Number of units:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:j,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:o,onChange:function(e){l(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),h(!0)):(h(!1),r.vien_daudzums=parseFloat(o),r.summa=s.vien_summa*r.vien_daudzums,U.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"Type the amount"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"Sum:"}),Object(p.jsx)("td",{children:r.summa.toFixed(m.floatPrecisionSecondary)})]})]})})}var Y=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"Fixed costs"}),Object(p.jsx)(G,{headerNames:["Name","Value"],tableBody:Object(p.jsx)(X,Object(w.a)({},e))})]})},Z=window.require("electron").ipcRenderer,$=t(20);function ee(e){return Object(p.jsx)(j.a,{fluid:!0,children:Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{as:A.a,children:[Object(p.jsx)(z.a,{md:"4",children:Object(p.jsx)("div",{className:"text-end",children:Object(p.jsx)(F.a.Label,{children:"Number of units in one package:"})})}),Object(p.jsxs)(z.a,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.vienDaudzums,onChange:e.vienDaudzumsHandleChange,onBlur:e.vienDaudzumsHandleValidation,style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})]})})})}function ae(e){var a=JSON.parse(Z.sendSync("get-data")),t=$.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("iepakojums").get("elementi").value(),s=[],r=0,i=0;return t.forEach((function(a){s.push(Object(n.createElement)(te,Object(w.a)(Object(w.a)({},e),{},{key:a.nosaukums,item:a,productName:e.nosaukums,fileName:"/.."}))),r+=a.summa_iepak,i+=a.summa_vien})),Object(p.jsxs)("tbody",{children:[s,Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"text-end fw-bold",children:"Sum:"}),Object(p.jsx)("td",{children:r.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:i.toFixed(m.floatPrecisionSecondary)})]})]})}function te(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(parseFloat(e.item.norma)),u=Object(C.a)(d,2),j=u[0],h=u[1],b=Object(n.useState)(!1),O=Object(C.a)(b,2),g=O[0],x=O[1],f=Object(n.useState)(parseFloat(j*s)),v=Object(C.a)(f,2),k=v[0],y=v[1],S=Object(n.useState)(k/e.vienDaudzums),N=Object(C.a)(S,2),F=N[0],A=N[1];return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:Object(p.jsx)(ne,{validated:o,cena:s,handleChange:function(e){r(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),l(!0);else{l(!1);var n=j*s,r=n/e.vienDaudzums;y(n),A(r),console.log(s),console.log(j),console.log(n),console.log(r);var i=JSON.parse(Z.sendSync("get-data"));$.chain(i).get(e.type).find({nosaukums:e.productName}).get("iepakojums").get("elementi").find({nosaukums:e.item.nosaukums}).assign({summa_iepak:parseFloat(n)}).assign({summa_vien:parseFloat(r)}).assign({cena:parseFloat(s)}).value(),Z.sendSync("modify-data",[JSON.stringify(i)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:Object(p.jsx)(se,{validated:g,norma:j,handleChange:function(e){h(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),x(!0);else{x(!1);var n=j*s,r=n/e.vienDaudzums,i=JSON.parse(Z.sendSync("get-data"));$.chain(i).get(e.type).find({nosaukums:e.productName}).get("iepakojums").get("elementi").find({nosaukums:e.item.nosaukums}).assign({summa_iepak:parseFloat(n)}).assign({summa_vien:parseFloat(r)}).assign({norma:parseFloat(j)}).value(),Z.sendSync("modify-data",[JSON.stringify(i)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:k.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:F.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(re,Object(w.a)({packageName:e.item.nosaukums,productName:e.productName,fileName:e.fileName},e))})]})}function ne(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"cena",type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:e.cena,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})}function se(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.norma,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})}function re(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=JSON.parse(Z.sendSync("get-data"));Z.send("warning-delete"),Z.on("confirm-delete",(function(t,n){$.chain(a).get(e.type).find({nosaukums:e.productName}).get("iepakojums").get("elementi").remove({nosaukums:e.packageName}).value(),Z.sendSync("modify-data",[JSON.stringify(a)])}))}(e.fileName)},children:"remove"})}var ie=function(e){var a=JSON.parse(Z.sendSync("get-data")),t=$.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("iepakojums").get("daudzums").value(),s=Object(n.useState)(parseFloat(t)),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"Package"}),Object(p.jsx)(ee,{validated:d,vienDaudzums:i,vienDaudzumsHandleChange:function(e){c(e.target.value)},vienDaudzumsHandleValidation:function(a){return function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),u(!0);else{u(!1);var t=a.target.value,n=JSON.parse(Z.sendSync("get-data")),s=$.chain(n).get(e.type).find({nosaukums:e.nosaukums}).get("iepakojums").value(),r=s.elementi;s.daudzums=parseFloat(t),r.forEach((function(e){e.summa_vien=e.summa_iepak/s.daudzums})),Z.sendSync("modify-data",[JSON.stringify(n)])}}(a)},fileName:e.fileName}),Object(p.jsx)(G,{headerNames:["Code","Name","Measure","Price","Amount","Sum/package","Price/unit","Remove"],tableBody:Object(p.jsx)(ae,Object(w.a)({vienDaudzums:i},e))}),Object(p.jsx)(B,{nosaukums:e.nosaukums,type:e.type,from:"iepakojums"})]})},ce=window.require("electron").ipcRenderer,oe=t(20);function le(e){var a=JSON.parse(ce.sendSync("get-data")),t=["Worker","Salary","Salary with tax ("+oe.chain(a).get("darbinieku_nodoklis").value()+"%)","Hours worked","Sum","Expence/unit","Remove"],s=Object(n.useState)(parseFloat(e.item.daudzums)),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h4",{className:"text-center",children:e.item.nosaukums}),Object(p.jsx)(de,{validated:d,vienDaudzums:i,vienDaudzumsHandleChange:function(e){c(e.target.value)},vienDaudzumsHandleValidation:function(a){return function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),u(!0);else{u(!1);var t=a.target.value,n=JSON.parse(ce.sendSync("get-data")),s=oe.chain(n).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:e.item.nosaukums}).value(),r=s.darbinieki;s.daudzums=parseFloat(t),r.forEach((function(e){e.summa_vien=e.summa/s.daudzums})),ce.sendSync("modify-data",[JSON.stringify(n)])}}(a)}}),Object(p.jsx)(G,{headerNames:t,tableBody:Object(p.jsx)(ue,Object(w.a)({vienDaudzums:i,razGrupNosaukums:e.item.nosaukums},e))}),Object(p.jsx)(Oe,Object(w.a)({nosaukums:e.nosaukums,type:e.type},e)),Object(p.jsx)(be,Object(w.a)(Object(w.a)({},e),{},{razGrupNosaukums:e.item.nosaukums}))]})}function de(e){return Object(p.jsx)(j.a,{fluid:!0,children:Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{as:A.a,children:[Object(p.jsx)(z.a,{md:"4",children:Object(p.jsx)("div",{className:"text-end",children:Object(p.jsx)(F.a.Label,{children:"Number of units produced:"})})}),Object(p.jsxs)(z.a,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.vienDaudzums,onChange:e.vienDaudzumsHandleChange,onBlur:e.vienDaudzumsHandleValidation,style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})]})})})}function ue(e){var a=e.item.darbinieki,t=[],s=0,r=0;return a.forEach((function(a){t.push(Object(n.createElement)(je,Object(w.a)(Object(w.a)({},e),{},{key:a.nosaukums,razGrupNosaukums:e.razGrupNosaukums,item:a,productName:e.nosaukums}))),s+=a.summa,r+=a.summa_vien})),Object(p.jsxs)("tbody",{children:[t,Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"text-end fw-bold",children:"Sum:"}),Object(p.jsx)("td",{children:s.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:r.toFixed(m.floatPrecisionSecondary)})]})]})}function je(e){var a=Object(n.useState)(parseFloat(e.item.norma)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(parseFloat(e.item.summa)),u=Object(C.a)(d,1)[0],j=Object(n.useState)(u/e.vienDaudzums),h=Object(C.a)(j,1)[0];return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.alga}),Object(p.jsx)("td",{children:e.item.alga_nodoklis.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(he,{validated:o,norma:s,handleChange:function(e){r(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),l(!0);else{l(!1);var n=JSON.parse(ce.sendSync("get-data")),r=oe.chain(n).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:e.razGrupNosaukums}).get("darbinieki").find({nosaukums:e.item.nosaukums}).value(),i=s*r.alga_nodoklis,c=i/e.vienDaudzums;oe.chain(r).assign({summa:parseFloat(i)}).assign({summa_vien:parseFloat(c)}).assign({norma:parseFloat(s)}).value(),ce.sendSync("modify-data",[JSON.stringify(n)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:u.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:h.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(me,Object(w.a)({},e))})]})}function he(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.norma,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})}function me(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=JSON.parse(ce.sendSync("get-data"));ce.send("warning-delete"),ce.on("confirm-delete",(function(t,n){oe.chain(a).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:e.razGrupNosaukums}).get("darbinieki").remove({nosaukums:e.item.nosaukums}).value(),ce.sendSync("modify-data",[JSON.stringify(a)])}))}(e.fileName)},children:"remove"})}function be(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=JSON.parse(ce.sendSync("get-data"));ce.send("warning-delete"),ce.on("confirm-delete",(function(t,n){oe.chain(a).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").remove({nosaukums:e.razGrupNosaukums}).value(),ce.sendSync("modify-data",[JSON.stringify(a)])}))}(e.fileName)},children:"Remove group"})}function pe(e){var a="";return"produkti"===e.type&&(a=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(a){return function(e,a){ce.send("razGrupas:ask-for-window",[JSON.stringify(a)])}(0,{productName:e.productName,type:"produkti"})},children:"Add manufacturing group"})),Object(p.jsx)("div",{className:"addEntryButtons",children:a})}function Oe(e){function a(a,t){ce.send("expenses-add-window",[e.nosaukums,JSON.stringify(t)])}var t="";return"produkti"===e.type?t=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(t){return a(0,{to:"produkti",from:"darbinieki",type:"all",raz_grupas_nosaukums:e.item.nosaukums})},children:"Add new worker"}):"grupas"===e.type&&(t=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(t){return a(0,{to:"grupas",from:"darbinieki",type:"all",raz_grupas_nosaukums:e.item.nosaukums})},children:"Add new worker"})),Object(p.jsx)("div",{className:"addEntryButtons",children:t})}var ge=function(e){var a=JSON.parse(ce.sendSync("get-data")),t=oe.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("ra\u017eo\u0161anas_grupas").value(),s=[];return t.forEach((function(a){s.push(Object(n.createElement)(le,Object(w.a)(Object(w.a)({},e),{},{key:a.nosaukums,item:a,productName:e.nosaukums})))})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"Salary"}),s,Object(p.jsx)(pe,Object(w.a)({productName:e.nosaukums},e))]})},xe=window.require("electron").ipcRenderer,fe=t(20);function ve(e){var a=JSON.parse(xe.sendSync("get-data")),t=fe.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value(),s=fe.chain(a).get("elektriba").value(),r=t.elektriba,i=Object(n.useState)(r.vien_daudzums),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(C.a)(d,2),j=u[0],h=u[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"General price for unit:"}),Object(p.jsx)("td",{className:"col-md-6",children:s.vien_summa.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"Number of units:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:j,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:o,onChange:function(e){l(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),h(!0)):(h(!1),r.vien_daudzums=parseFloat(o),r.summa=s.vien_summa*r.vien_daudzums,xe.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"Sum:"}),Object(p.jsx)("td",{children:r.summa.toFixed(m.floatPrecisionSecondary)})]})]})})}var ke=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"Electricity"}),Object(p.jsx)(G,{headerNames:["Name","Value"],tableBody:Object(p.jsx)(ve,Object(w.a)({},e))})]})},ye=window.require("electron").ipcRenderer,Se=t(20);function Ne(e){var a=JSON.parse(ye.sendSync("get-data")),t=Se.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value().deposit;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"Value:"}),Object(p.jsx)("td",{children:t.toFixed(m.floatPrecisionSecondary)})]})})})}var Ce=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"Deposit"}),Object(p.jsx)(G,{headerNames:["","Value"],tableBody:Object(p.jsx)(Ne,Object(w.a)({},e))})]})},we=window.require("electron").ipcRenderer,Fe=t(20);function Ae(e){var a=JSON.parse(we.sendSync("get-data")),t=Fe.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value().alcohol_tax,s=Object(n.useState)(t.alcohol),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(t.volume),h=Object(C.a)(j,2),b=h[0],O=h[1],g=Object(n.useState)(!1),x=Object(C.a)(g,2),f=x[0],v=x[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u0410\u043a\u0446\u0438\u0437 (\u0437\u0430 1 \u0433\u0440\u0430\u0434\u0443\u0441 \u043d\u0430 100\u043b):"}),Object(p.jsx)("td",{children:t.value.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0413\u0440\u0430\u0434\u0443\u0441\u043d\u043e\u0441\u0442\u044c (%):"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:d,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:i,onChange:function(e){c(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),u(!0)):(u(!1),t.alcohol=parseFloat(i),t.summa=t.value*t.alcohol/100*t.volume,we.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u041e\u0431\u044c\u0451\u043c (\u041b):"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:f,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:b,onChange:function(e){O(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),v(!0)):(v(!1),t.volume=parseFloat(b),t.summa=t.value*t.alcohol/100*t.volume,we.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u0421\u0443\u043c\u043c\u0430:"}),Object(p.jsx)("td",{children:t.summa.toFixed(m.floatPrecisionSecondary)})]})]})})}var ze=function(e){var a=JSON.parse(we.sendSync("get-data"));return null==Fe.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value().alcohol_tax?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0410\u043a\u0446\u0438\u0437"}),Object(p.jsx)(G,{headerNames:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"],tableBody:Object(p.jsx)(Ae,Object(w.a)({},e))})]})},_e=window.require("electron").ipcRenderer,Pe=t(20);function Me(e){var a=e.productObject;return"Bottles"===a.grupa?Object(p.jsx)("h4",{children:"Cena bez iepak: "+parseFloat(a["cena(bez iepak.)"]).toFixed(m.floatPrecision)}):null}var Je=function(){var e=Object(b.h)().kods,a=JSON.parse(_e.sendSync("get-data")),t=Pe.chain(a).get("produkti").find({kods:parseInt(e)}).value();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h2",{children:"Product name: "+t.nosaukums}),Object(p.jsx)("h4",{children:"Code: "+t.kods}),Object(p.jsx)("h4",{children:"Price: "+parseFloat(t.cena).toFixed(m.floatPrecision)}),Object(p.jsx)(Me,{productObject:t}),Object(p.jsx)(ke,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(W,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(Y,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(ie,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(ge,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(Ce,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(ze,{nosaukums:t.nosaukums,type:"produkti"})]})};function Ee(e){var a=Object(b.f)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,{bg:"dark",variant:"dark",children:Object(p.jsx)(j.a,{children:Object(p.jsx)(l.a.Brand,{onClick:function(e){return t="/",void a.push(t);var t},children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})})})}var Ve=function(){var e=Object(b.h)().groupName;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ee,{groupName:e}),Object(p.jsx)("h2",{children:"Grupa: "+e}),Object(p.jsx)(ke,{nosaukums:e,type:"grupas"}),Object(p.jsx)(W,{nosaukums:e,type:"grupas"}),Object(p.jsx)(Y,{nosaukums:e,type:"grupas"}),Object(p.jsx)(ie,{nosaukums:e,type:"grupas"}),Object(p.jsx)(ge,{nosaukums:e,type:"grupas"})]})},Ge=t(86),De=t.n(Ge),Be=t(109),qe=t.n(Be),Te=t(62),Re=t.n(Te),Ie=window.require("electron").ipcRenderer;var Le=function(e){return Object(p.jsx)("div",{className:"addEntryButtons",children:Object(p.jsx)(h.a,{variant:"secondary",size:"sm",id:"addEntryButtons",onClick:function(){Ie.send(e.message)},children:"Add"})})},He=window.require("electron").ipcRenderer,Ke=t(20);function We(e,a,t){return Object(p.jsx)(Xe,{nosaukums:a.nosaukums})}var Ue=qe()({mode:"dbclick",blurToSave:!0,afterSaveCell:function(e,a,t,n){var s=a,r=JSON.parse(He.sendSync("get-data"));Ke.chain(r).get("izejvielas").find({nosaukums:t.nosaukums}).assign({cena:parseFloat(s)}).value();var i=Ke.chain(r).get("produkti").value(),c=Ke.chain(r).get("grupas").value();i.forEach((function(e){var a=Ke.chain(e).get("izejvielas").find({nosaukums:t.nosaukums}).value();if(void 0!==a){var n=s*a.daudzums;Ke.chain(a).assign({cena:parseFloat(s)}).assign({kopuma:parseFloat(n)}).value()}})),c.forEach((function(e){var a=Ke.chain(e).get("izejvielas").find({nosaukums:t.nosaukums}).value();if(void 0!==a){var n=s*a.daudzums;Ke.chain(a).assign({cena:parseFloat(s)}).assign({kopuma:parseFloat(n)}).value()}})),He.sendSync("modify-data",[JSON.stringify(r),!1])}});function Qe(e){var a=JSON.parse(He.sendSync("get-data"));a=Ke.chain(a).get("izejvielas").value();var t=Te.Search.SearchBar,n=[{dataField:"kods",text:"Code",editable:!1,sort:!0,headerAlign:"center",headerStyle:{width:"80px"}},{dataField:"nosaukums",text:"Name",sort:!0,headerAlign:"center",editable:!1},{dataField:"mervieniba",text:"Measure",headerAlign:"center",headerStyle:{width:"12%"},editable:!1},{dataField:"cena",text:"Price",sort:!0,headerAlign:"center",headerStyle:{width:"200px"},validator:function(e,a,t){return!isNaN(e)||{valid:!1,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}}},{dataField:"",text:"Remove",headerAlign:"center",headerStyle:{width:"80px"},editable:!1,formatter:We}];return Object(p.jsx)(Re.a,{keyField:"nosaukums",data:a,columns:n,search:!0,children:function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"Search:"}),Object(p.jsx)(t,Object(w.a)(Object(w.a)({},e.searchProps),{},{className:"custom-search-field",placeholder:"e.g. sugar",srText:""})),Object(p.jsx)("hr",{}),Object(p.jsx)(De.a,Object(w.a)(Object(w.a)({},e.baseProps),{},{bootstrap4:!0,striped:!0,hover:!0,condensed:!0,cellEdit:Ue}))]})}})}function Xe(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=JSON.parse(He.sendSync("get-data"));He.send("warning-delete"),He.on("confirm-delete",(function(t,n){Ke.chain(a).get("izejvielas").remove({nosaukums:e.nosaukums}).value(),He.sendSync("modify-data",[JSON.stringify(a)])}))},children:"remove"})}var Ye=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"Raw materials"}),Object(p.jsx)(Le,{message:"raw-material:ask-for-window"}),Object(p.jsx)(Qe,{})]})},Ze=t(10),$e=t(33),ea=window.require("electron").ipcRenderer,aa=t(20),ta=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).state={kods:"",nosaukums:"",mervieniba:"",cena:"",showAlert:!1,alertMessage:""},n.data={},n.handleKodsChange=n.handleKodsChange.bind(Object(Ze.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(Ze.a)(n)),n.handleMervienibaChange=n.handleMervienibaChange.bind(Object(Ze.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(Ze.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(Ze.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleKodsChange",value:function(e){this.setState({kods:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handleMervienibaChange",value:function(e){console.log(e.target.value),this.setState({mervieniba:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({cena:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(na,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(ra,{kods:this.state.kods,nosaukums:this.state.nosaukums,mervieniba:this.state.mervieniba,cena:this.state.cena,handleKodsChange:this.handleKodsChange,handleMervienibaChange:this.handleMervienibaChange,handleNameChange:this.handleNameChange,handlePriceChange:this.handlePriceChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function na(e){return e.showAlert?Object(p.jsx)($e.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}function sa(e){return"string"==typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))}var ra=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleSubmit",value:function(e){var a=this;if(e.preventDefault(),this.data=JSON.parse(ea.sendSync("get-data")),this.data=aa.chain(this.data).get("izejvielas").value(),""===this.props.nosaukums||""===this.props.cena||""===this.props.kods||""===this.props.mervieniba)this.props.setShowAlert(!0),this.props.setAlertMessage("Enter the  data");else{var t=this.data.find((function(e){return parseInt(e.kods)===parseInt(a.props.kods)}));if("undefined"!=typeof t)this.props.setShowAlert(!0),this.props.setAlertMessage('Code "'.concat(this.props.kods,'" already exists'));else if("undefined"!=typeof(t=this.data.find((function(e){return e.nosaukums===a.props.nosaukums}))))this.props.setShowAlert(!0),this.props.setAlertMessage('Raw material with name "'.concat(this.props.nosaukums,'" already exists'));else if(sa(this.props.cena))if(sa(this.props.kods)){var n={kods:parseInt(this.props.kods),nosaukums:this.props.nosaukums,mervieniba:this.props.mervieniba,cena:parseFloat(this.props.cena)},s=JSON.parse(ea.sendSync("get-data"));aa.chain(s).get("izejvielas").push(n).value(),ea.sendSync("modify-data",[JSON.stringify(s)])}else this.props.setShowAlert(!0),this.props.setAlertMessage("Code entered has wrong format");else this.props.setShowAlert(!0),this.props.setAlertMessage("Price entered has wrong format")}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Raw material code"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. 53",value:this.props.kods,onChange:this.props.handleKodsChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Name"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. water",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Measure"}),Object(p.jsxs)(F.a.Select,{"aria-label":"Default select example",value:this.props.mervieniba,onChange:this.props.handleMervienibaChange,children:[Object(p.jsx)("option",{value:"",children:"Measure"}),Object(p.jsx)("option",{value:"kg",children:"kg"}),Object(p.jsx)("option",{value:"gab",children:"pcs"}),Object(p.jsx)("option",{value:"l",children:"l"})]})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"Price"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. 5.42",value:this.props.cena,onChange:this.props.handlePriceChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"submit"})]})}}]),t}(s.a.Component),ia=ta,ca=window.require("electron").ipcRenderer,oa=t(20),la=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).state={nosaukums:"",cena:"",showAlert:!1,alertMessage:""},n.data={},n.handleNameChange=n.handleNameChange.bind(Object(Ze.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(Ze.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(Ze.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({cena:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(da,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(ua,{nosaukums:this.state.nosaukums,cena:this.state.cena,handleNameChange:this.handleNameChange,handlePriceChange:this.handlePriceChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function da(e){return e.showAlert?Object(p.jsx)($e.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}var ua=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleSubmit",value:function(e){var a,t=this;if(e.preventDefault(),this.data=JSON.parse(ca.sendSync("get-data")),this.data=oa.chain(this.data).get("fiks\u0113tie").value(),""===this.props.nosaukums||""===this.props.cena)this.props.setShowAlert(!0),this.props.setAlertMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===t.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0437\u0430\u0442\u0440\u0430\u0442\u0430 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'.concat(this.props.nosaukums,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else if("string"!=typeof(a=this.props.cena)||isNaN(a)||isNaN(parseFloat(a)))this.props.setShowAlert(!0),this.props.setAlertMessage("\u0426\u0435\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");else{var n={nosaukums:this.props.nosaukums,cena:parseFloat(this.props.cena)},s=JSON.parse(ca.sendSync("get-data"));oa.chain(s).get("fiks\u0113tie").push(n).value(),ca.sendSync("modify-data",[JSON.stringify(s)])}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0417\u0430\u0442\u0440\u0430\u0442\u044b"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(p.jsx)(F.a.Control,{placeholder:"\u0426\u0435\u043d\u0430",value:this.props.cena,onChange:this.props.handlePriceChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}}]),t}(s.a.Component),ja=la,ha=window.require("electron").ipcRenderer,ma=t(20);function ba(){var e=JSON.parse(ha.sendSync("get-data")),a=ma.chain(e).get("fiks\u0113tie").value(),t=Object(n.useState)(a.vien_daudzums),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-4 text-end",children:"Units produced:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:r,onChange:function(e){i(e.target.value)},onBlur:function(t){!1===t.currentTarget.checkValidity()?(t.preventDefault(),t.stopPropagation(),d(!0)):(d(!1),a.vien_daudzums=parseFloat(r),a.vien_summa=a.summa/a.vien_daudzums,ha.sendSync("modify-data",[JSON.stringify(e)]),ga(a.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsx)(pa,{elementi:a.elementi}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"Sum:"}),Object(p.jsx)("td",{children:a.summa.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle ",children:[Object(p.jsx)("td",{className:"text-end",children:"Price/unit:"}),Object(p.jsx)("td",{children:a.vien_summa.toFixed(m.floatPrecisionSecondary)})]})]})})}function pa(e){var a=e.elementi,t=[];return a.forEach((function(e){t.push(Object(p.jsx)(Oa,{item:e},e.nosaukums))})),t}function Oa(e){var a=e.item,t=Object(n.useState)(parseFloat(a.value)),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:a.nosaukums+":"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:r,onChange:function(e){i(e.target.value)},onBlur:function(e){if(!1===e.currentTarget.checkValidity())e.preventDefault(),e.stopPropagation(),d(!0);else{d(!1);var t=JSON.parse(ha.sendSync("get-data")),n=ma.chain(t).get("fiks\u0113tie").value();ma.chain(n).get("elementi").find({nosaukums:a.nosaukums}).value().value=parseFloat(r);var s=n.elementi,i=parseFloat(0);s.forEach((function(e){i+=e.value})),n.summa=parseFloat(i),n.vien_summa=n.summa/n.vien_daudzums,console.log(n.vien_summa),ha.sendSync("modify-data",[JSON.stringify(t)]),ga(n.vien_summa)}},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]})}function ga(e){var a=JSON.parse(ha.sendSync("get-data"));ma.chain(a).get("produkti").value().forEach((function(a){var t=a["fiks\u0113tie"];t.vien_summa=e,t.summa=t.vien_summa*t.vien_daudzums})),ha.sendSync("modify-data",[JSON.stringify(a)])}var xa=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"Fixed costs"}),Object(p.jsx)(G,{headerNames:["Name","Price"],tableBody:Object(p.jsx)(ba,{})})]})},fa=window.require("electron").ipcRenderer,va=t(20),ka="",ya="";var Sa=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).state={showAlert:!1,alertMessage:""},n.entryName=e.entryName,n.expenses=e.expenses,n.setShowAlert=n.setShowAlert.bind(Object(Ze.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Na,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(Ca,Object(w.a)({setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage},this.props))]})}}]),t}(s.a.Component);function Na(e){return e.showAlert?Object(p.jsx)($e.a,{variant:"danger",className:"alert-fixed",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}function Ca(e){return"izejvielas"===e.info.from?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Aa,{}),Object(p.jsx)(Fa,Object(w.a)({},e))]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Aa,{}),Object(p.jsx)(G,{headerNames:e.headerNames,tableBody:Object(p.jsx)(za,Object(w.a)({},e))})]})}function wa(e,a,t,n){return console.log(n.props),Object(p.jsx)(Va,{setAlertMessage:n.props.setAlertMessage,setShowAlert:n.props.setShowAlert,row:a})}function Fa(e){var a=Te.Search.SearchBar,t=[{dataField:"kods",text:"Code",editable:!1,sort:!0,headerAlign:"center",headerStyle:{width:"80px"}},{dataField:"nosaukums",text:"Name",sort:!0,headerAlign:"center",editable:!1},{dataField:"mervieniba",text:"Measure",headerAlign:"center",headerStyle:{width:"12%"},editable:!1},{dataField:"cena",text:"Price",sort:!0,headerAlign:"center",headerStyle:{width:"200px"},editable:!1},{dataField:"",text:"Remove",headerAlign:"center",headerStyle:{width:"80px"},editable:!1,formatter:wa,formatExtraData:{props:e}}];return Object(p.jsx)(Re.a,{keyField:"nosaukums",data:e.expenses,columns:t,search:!0,children:function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"search:"}),Object(p.jsx)(a,Object(w.a)(Object(w.a)({},e.searchProps),{},{className:"custom-search-field",placeholder:"e.g. Apple flavour",srText:""})),Object(p.jsx)("hr",{}),Object(p.jsx)(De.a,Object(w.a)(Object(w.a)({},e.baseProps),{},{bootstrap4:!0,striped:!0,hover:!0,condensed:!0}))]})}})}function Aa(){var e;switch(ka.from){case"izejvielas":e="Raw materials";break;case"fiks\u0113tie":e="Fixed costs";break;case"iepakojums":e="Package";break;case"darbinieki":e="Workers";break;case"ra\u017eo\u0161anas_grupas":e="Manufacturing groups";break;default:throw new Error('Unknown "from" entry')}return Object(p.jsx)("h2",{children:e})}function za(e){var a,t=[];switch(ka.from){case"izejvielas":a=Object(p.jsx)(_a,Object(w.a)({},e));break;case"fiks\u0113tie":a=Object(p.jsx)(Pa,Object(w.a)({},e));break;case"iepakojums":a=Object(p.jsx)(Ma,Object(w.a)({},e));break;case"darbinieki":a=Object(p.jsx)(Ja,Object(w.a)({},e));break;case"ra\u017eo\u0161anas_grupas":a=Object(p.jsx)(Ea,Object(w.a)({},e));break;default:throw new Error('Unknown "from" entry')}return e.expenses.forEach((function(e){t.push(s.a.cloneElement(a,{item:e}))})),Object(p.jsx)("tbody",{children:t})}function _a(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:e.item.cena}),Object(p.jsx)("td",{children:Object(p.jsx)(Va,Object(w.a)({},e))})]})}function Pa(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.cena}),Object(p.jsx)("td",{children:Object(p.jsx)(Va,Object(w.a)({},e))})]})}function Ma(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:e.item.cena}),Object(p.jsx)("td",{children:Object(p.jsx)(Va,Object(w.a)({},e))})]})}function Ja(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.alga.toFixed(m.floatPrecisionThird)}),Object(p.jsx)("td",{children:e.item.alga_nodoklis.toFixed(m.floatPrecisionThird)}),Object(p.jsx)("td",{children:Object(p.jsx)(Va,Object(w.a)({},e))})]})}function Ea(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:Object(p.jsx)(Va,Object(w.a)({},e))})]})}function Va(e){return Object(p.jsx)(h.a,{variant:"success",type:"button",size:"sm",onClick:function(){var a={};if("all"===ka.type)switch(ka.from){case"izejvielas":a={kods:e.row.kods,nosaukums:e.row.nosaukums,mervieniba:e.row.mervieniba,cena:e.row.cena,daudzums:1,kopuma:e.row.cena};break;case"fiks\u0113tie":case"udens_sagatavosana":a={nosaukums:e.item.nosaukums,cena:e.item.cena};break;case"iepakojums":a={kods:e.item.kods,nosaukums:e.item.nosaukums,mervieniba:e.item.mervieniba,cena:e.item.cena,norma:1,summa_iepak:e.item.cena,summa_vien:e.item.cena};break;case"darbinieki":var t=JSON.parse(fa.sendSync("get-data")),n=va.chain(t).get(ka.to).find({nosaukums:ya}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:ka.raz_grupas_nosaukums}).get("daudzums").value();a={nosaukums:e.item.nosaukums,alga:e.item.alga,alga_nodoklis:e.item.alga_nodoklis,norma:1,summa:e.item.alga_nodoklis,summa_vien:e.item.alga_nodoklis/n};break;default:throw new Error('Unknown "from" entry')}else"group"===ka.type&&(a=e.item);var s=function(e){var t;if("iepakojums"===ka.from){var n=JSON.parse(fa.sendSync("get-data")),s=va.chain(n).get(ka.to).find({nosaukums:e}).get("iepakojums").get("elementi");if(void 0!==s.find({nosaukums:a.nosaukums}).value())return"Already in the list";s.push(a).value(),fa.sendSync("modify-data",[JSON.stringify(n)])}else if("darbinieki"===ka.from){var r=JSON.parse(fa.sendSync("get-data")),i=va.chain(r).get(ka.to).find({nosaukums:e}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:ka.raz_grupas_nosaukums}).get("darbinieki");if(void 0!==i.find({nosaukums:a.nosaukums}).value())return"Already in the list";i.push(a).value(),fa.sendSync("modify-data",[JSON.stringify(r)])}else{t=JSON.parse(fa.sendSync("get-data"));var c=va.chain(t).get(ka.to).find({nosaukums:e}).get(ka.from);if(void 0!==c.find({nosaukums:a.nosaukums}).value())return"Already in the list";c.push(a).value(),fa.sendSync("modify-data",[JSON.stringify(t)])}return null}(ya);if("Already in the list"===s){var r="";switch(ka.from){case"izejvielas":r='Raw material "'+e.row.nosaukums+'" already in the list';break;case"fiks\u0113tie":r='Fixed cost "'+e.item.nosaukums+'" already in the list';break;case"iepakojums":r='Package element "'+e.item.nosaukums+'" already in the list';break;case"darbinieki":r='Worker "'+e.item.nosaukums+'" already in the list';break;case"ra\u017eo\u0161anas_grupas":r='Manufacturing group "'+e.item.nosaukums+'" already in the list';break;default:throw new Error('Unknown "from" entry')}e.setAlertMessage(r),e.setShowAlert(!0)}},children:"Add"})}var Ga=function(){var e=Object(b.h)(),a=e.destinationEntryNameTemp,t=e.infoTemp;ya=a;var n="",s="";switch((ka=JSON.parse(t)).from){case"izejvielas":case"iepakojums":s=["Code","Name","Measure","Price","Add"];break;case"fiks\u0113tie":s=["Name","Price","Add"];break;case"darbinieki":s=["Title","Hourly rate","Hourly rate with tax","Add"];break;default:s=["Name","Add"]}if("all"===ka.type){var r=JSON.parse(fa.sendSync("get-data"));n=va.chain(r).get(ka.from).value()}else if("group"===ka.type){var i=JSON.parse(fa.sendSync("get-data")),c=va.chain(i).get("produkti").find({nosaukums:ya}).get("grupa").value();n="iepakojums"===ka.from?va.chain(i).get("grupas").find({nosaukums:c}).get("iepakojums").get("elementi").value():va.chain(i).get("grupas").find({nosaukums:c}).get(ka.from).value()}return Object(p.jsx)(Sa,{destinationEntryName:ya,expenses:n,headerNames:s,info:ka})},Da=window.require("electron").ipcRenderer,Ba=t(20);function qa(e){var a=JSON.parse(Da.sendSync("get-data"));a=Ba.chain(a).get("iepakojums").value();var t=[];return a.forEach((function(a){t.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a.kods}),Object(p.jsx)("td",{children:a.nosaukums}),Object(p.jsx)("td",{children:a.mervieniba}),Object(p.jsx)("td",{children:Object(p.jsx)(Ta,Object(w.a)({item:a},e))}),Object(p.jsx)("td",{children:Object(p.jsx)(Ra,Object(w.a)({nosaukums:a.nosaukums},e))})]},a.nosaukums.toString()))})),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:t})})}function Ta(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1];return Object(p.jsx)(F.a,{noValidate:!0,validated:o,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:s,onChange:function(e){r(e.target.value)},onBlur:function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),l(!0);else{l(!1);var t=JSON.parse(Da.sendSync("get-data"));Ba.chain(t).get("iepakojums").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).value();var n=Ba.chain(t).get("produkti").value(),r=Ba.chain(t).get("grupas").value();n.forEach((function(a){var t=Ba.chain(a).get("iepakojums").value(),n=Ba.chain(t).get("daudzums").value(),r=Ba.chain(t).get("elementi").find({nosaukums:e.item.nosaukums}).value();if(void 0!==r){var i=s*r.norma,c=i/n;Ba.chain(r).assign({cena:parseFloat(s)}).assign({summa_iepak:parseFloat(i)}).assign({summa_vien:parseFloat(c)}).value()}})),r.forEach((function(a){var t=Ba.chain(a).get("iepakojums").value(),n=Ba.chain(t).get("daudzums").value(),r=Ba.chain(t).get("elementi").find({nosaukums:e.item.nosaukums}).value();if(void 0!==r){var i=s*r.norma,c=i/n;Ba.chain(r).assign({cena:parseFloat(s)}).assign({summa_iepak:parseFloat(i)}).assign({summa_vien:parseFloat(c)}).value()}})),Da.sendSync("modify-data",[JSON.stringify(t)])}}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})}function Ra(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=JSON.parse(Da.sendSync("get-data"));Da.send("warning-delete"),Da.on("confirm-delete",(function(t,n){Ba.chain(a).get("iepakojums").remove({nosaukums:e.nosaukums}).value(),Da.sendSync("modify-data",[JSON.stringify(a)])}))},children:"remove"})}var Ia=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"Package"}),Object(p.jsx)(G,{headerNames:["Code","Name","Measure","Price","Remove"],tableBody:Object(p.jsx)(qa,{})}),Object(p.jsx)(Le,{message:"package:ask-for-window"})]})},La=window.require("electron").ipcRenderer,Ha=t(20),Ka=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).state={kods:"",nosaukums:"",mervieniba:"",cena:"",showAlert:!1,alertMessage:""},n.data={},n.handleKodsChange=n.handleKodsChange.bind(Object(Ze.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(Ze.a)(n)),n.handleMervienibaChange=n.handleMervienibaChange.bind(Object(Ze.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(Ze.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(Ze.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleKodsChange",value:function(e){this.setState({kods:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handleMervienibaChange",value:function(e){console.log(e.target.value),this.setState({mervieniba:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({cena:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Wa,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(Qa,{kods:this.state.kods,nosaukums:this.state.nosaukums,mervieniba:this.state.mervieniba,cena:this.state.cena,handleKodsChange:this.handleKodsChange,handleMervienibaChange:this.handleMervienibaChange,handleNameChange:this.handleNameChange,handlePriceChange:this.handlePriceChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function Wa(e){return e.showAlert?Object(p.jsx)($e.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}function Ua(e){return"string"==typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))}var Qa=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleSubmit",value:function(e){var a=this;if(e.preventDefault(),this.data=JSON.parse(La.sendSync("get-data")),this.data=Ha.chain(this.data).get("iepakojums").value(),""===this.props.nosaukums||""===this.props.cena||""===this.props.kods||""===this.props.mervieniba)this.props.setShowAlert(!0),this.props.setAlertMessage("Enter the  data");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===a.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('Raw material with name "'.concat(this.props.nosaukums,'" already exists'));else if(Ua(this.props.cena))if(Ua(this.props.kods)){var t={kods:parseInt(this.props.kods),nosaukums:this.props.nosaukums,mervieniba:this.props.mervieniba,cena:parseFloat(this.props.cena)},n=JSON.parse(La.sendSync("get-data"));Ha.chain(n).get("iepakojums").push(t).value(),La.sendSync("modify-data",[JSON.stringify(n)])}else this.props.setShowAlert(!0),this.props.setAlertMessage("Code entered has wrong format");else this.props.setShowAlert(!0),this.props.setAlertMessage("Price entered has wrong format")}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Code"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. 53",value:this.props.kods,onChange:this.props.handleKodsChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Name"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. water",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Measure"}),Object(p.jsxs)(F.a.Select,{"aria-label":"Default select example",value:this.props.mervieniba,onChange:this.props.handleMervienibaChange,children:[Object(p.jsx)("option",{value:"",children:"Measure"}),Object(p.jsx)("option",{value:"kg",children:"kg"}),Object(p.jsx)("option",{value:"gab",children:"pcs"}),Object(p.jsx)("option",{value:"l",children:"l"})]})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"Price for unit"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. 5.42",value:this.props.cena,onChange:this.props.handlePriceChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"Submit"})]})}}]),t}(s.a.Component),Xa=Ka,Ya=window.require("electron").ipcRenderer,Za=t(20),$a=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).state={nosaukums:"",alga:"",showAlert:!1,alertMessage:""},n.data={},n.handleNameChange=n.handleNameChange.bind(Object(Ze.a)(n)),n.handleAlgaChange=n.handleAlgaChange.bind(Object(Ze.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(Ze.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handleAlgaChange",value:function(e){this.setState({alga:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(et,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(at,{nosaukums:this.state.nosaukums,alga:this.state.alga,handleNameChange:this.handleNameChange,handleAlgaChange:this.handleAlgaChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function et(e){return e.showAlert?Object(p.jsx)($e.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}var at=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),this.data=JSON.parse(Ya.sendSync("get-data"));var t,n=Za.chain(this.data).get("darbinieku_nodoklis").value();if(this.data=Za.chain(this.data).get("darbinieki").value(),""===this.props.nosaukums||""===this.props.alga)this.props.setShowAlert(!0),this.props.setAlertMessage("Enter the data");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===a.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('Worker with title"'.concat(this.props.nosaukums,'" already exists'));else if("string"!=typeof(t=this.props.alga)||isNaN(t)||isNaN(parseFloat(t)))this.props.setShowAlert(!0),this.props.setAlertMessage("Hourly rate entered has wrong format");else{var s=parseFloat(this.props.alga),r=s*n/100,i=s+r,c={nosaukums:this.props.nosaukums,alga:s,alga_procents:r,alga_nodoklis:i},o=JSON.parse(Ya.sendSync("get-data"));Za.chain(o).get("darbinieki").push(c).value(),Ya.sendSync("modify-data",[JSON.stringify(o)])}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Title"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. engineer",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"Hourly rate"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. 12",value:this.props.alga,onChange:this.props.handleAlgaChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"Submit"})]})}}]),t}(s.a.Component),tt=$a,nt=window.require("electron").ipcRenderer,st=t(20);function rt(e){var a=JSON.parse(nt.sendSync("get-data")),t=Object(n.useState)(a.darbinieku_nodoklis),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"Salary tax(%)"}),Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:r,onChange:function(e){i(e.target.value)},onBlur:function(e){if(!1===e.currentTarget.checkValidity())e.preventDefault(),e.stopPropagation(),d(!0);else{d(!1);var a=JSON.parse(nt.sendSync("get-data"));a.darbinieku_nodoklis=r;var t=a.darbinieki,n=st.chain(a).get("produkti").value();st.chain(a).get("grupas").value();t.forEach((function(e){e.alga_procents=e.alga*r/100,e.alga_nodoklis=e.alga+e.alga_procents,n.forEach((function(a){st.chain(a).get("ra\u017eo\u0161anas_grupas").value().forEach((function(a){var t=a.daudzums,n=st.chain(a).get("darbinieki").find({nosaukums:e.nosaukums}).value();void 0!==n&&(n.alga_nodoklis=e.alga_nodoklis,n.summa=e.alga_nodoklis*n.norma,n.summa_vien=n.summa/t)}))}))})),nt.sendSync("modify-data",[JSON.stringify(a)])}}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043b\u043e\u0433"})]})})})}function it(e){var a=JSON.parse(nt.sendSync("get-data"));a=st.chain(a).get("darbinieki").value();var t=[];return a.forEach((function(a){t.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a.nosaukums}),Object(p.jsx)("td",{children:Object(p.jsx)(ct,Object(w.a)({item:a},e))}),Object(p.jsx)("td",{children:a.alga_procents.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:a.alga_nodoklis.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(ot,Object(w.a)({nosaukums:a.nosaukums},e))})]},a.nosaukums.toString()))})),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:t})})}function ct(e){var a=Object(n.useState)(parseFloat(e.item.alga)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1];return Object(p.jsx)(F.a,{noValidate:!0,validated:o,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:s,onChange:function(e){r(e.target.value)},onBlur:function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),l(!0);else{l(!1);var t=JSON.parse(nt.sendSync("get-data")),n=t.darbinieku_nodoklis,r=st.chain(t).get("darbinieki").find({nosaukums:e.item.nosaukums}).value();r.alga=parseFloat(s),r.alga_procents=r.alga*n/100,r.alga_nodoklis=r.alga+r.alga_procents;var i=st.chain(t).get("produkti").value();st.chain(t).get("grupas").value();i.forEach((function(a){st.chain(a).get("ra\u017eo\u0161anas_grupas").value().forEach((function(a){var t=a.daudzums,n=st.chain(a).get("darbinieki").find({nosaukums:e.item.nosaukums}).value();void 0!==n&&(n.alga=r.alga,n.alga_nodoklis=r.alga_nodoklis,n.summa=n.alga_nodoklis*n.norma,n.summa_vien=n.summa/t)}))})),nt.sendSync("modify-data",[JSON.stringify(t)])}}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0432\u043a\u0443"})]})})}function ot(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=JSON.parse(nt.sendSync("get-data"));nt.send("warning-delete"),nt.on("confirm-delete",(function(t,n){st.chain(a).get("darbinieki").remove({nosaukums:e.nosaukums}).value(),nt.sendSync("modify-data",[JSON.stringify(a)])}))},children:"remove"})}var lt=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"Workers list"}),Object(p.jsx)(rt,{}),Object(p.jsx)(G,{headerNames:["Name","Salary","% Fraction","Sum","Remove"],tableBody:Object(p.jsx)(it,{})}),Object(p.jsx)(Le,{message:"workers:ask-for-window"})]})},dt=window.require("electron").ipcRenderer,ut=t(20);function jt(e){var a=JSON.parse(dt.sendSync("get-data"));ut.chain(a).get("produkti").value().forEach((function(a){var t=a.elektriba;t.vien_summa=e,t.summa=t.vien_summa*t.vien_daudzums})),dt.sendSync("modify-data",[JSON.stringify(a)])}function ht(e){var a=JSON.parse(dt.sendSync("get-data")),t=ut.chain(a).get("elektriba").value(),s=Object(n.useState)(parseFloat(t.cena)),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(t.izlietota),h=Object(C.a)(j,2),m=h[0],b=h[1],O=Object(n.useState)(!1),g=Object(C.a)(O,2),x=g[0],f=g[1],v=Object(n.useState)(t.vien_daudzums),k=Object(C.a)(v,2),y=k[0],S=k[1],N=Object(n.useState)(!1),w=Object(C.a)(N,2),A=w[0],z=w[1],_=Object(n.useState)(parseFloat(t.summa)),P=Object(C.a)(_,2),M=P[0],J=P[1],E=Object(n.useState)(!1),V=Object(C.a)(E,2),G=V[0],D=V[1],B=Object(n.useState)(parseFloat(t.vien_summa)),q=Object(C.a)(B,2),T=q[0],R=q[1],I=Object(n.useState)(!1),L=Object(C.a)(I,2),H=L[0],K=L[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"Price per kW:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:d,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"e.g. 200",value:i,onChange:function(e){c(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),u(!0)):(u(!1),t.cena=parseFloat(i),t.summa=t.izlietota*t.cena,t.vien_summa=t.summa/t.vien_daudzums,dt.sendSync("modify-data",[JSON.stringify(a)]),jt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"enter the price"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"kWh spent:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:x,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"e.g. 200",value:m,onChange:function(e){b(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),f(!0)):(f(!1),t.izlietota=parseFloat(m),t.summa=t.izlietota*t.cena,t.vien_summa=t.summa/t.vien_daudzums,dt.sendSync("modify-data",[JSON.stringify(a)]),jt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"enter the number"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"Units produced:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:A,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"e.g. 10000",value:y,onChange:function(e){S(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),z(!0)):(z(!1),t.vien_daudzums=parseFloat(y),t.vien_summa=t.summa/t.vien_daudzums,dt.sendSync("modify-data",[JSON.stringify(a)]),jt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"enter the number"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"Electricity bill:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:G,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"",value:M,onChange:function(e){J(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),D(!0)):(D(!1),t.summa=parseFloat(M),t.vien_summa=t.summa/t.vien_daudzums,t.izlietota=t.summa/t.cena,dt.sendSync("modify-data",[JSON.stringify(a)]),jt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle ",children:[Object(p.jsx)("td",{className:"text-end",children:"Price/unit:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:H,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"e.g. 0.3",value:T,onChange:function(e){R(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),K(!0)):(K(!1),t.vien_summa=parseFloat(T),t.summa=t.vien_summa*t.vien_daudzums,t.izlietota=t.summa/t.cena,dt.sendSync("modify-data",[JSON.stringify(a)]),jt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]})]})})}var mt=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"Electricity price"}),Object(p.jsx)(G,{headerNames:["Name","Value"],tableBody:Object(p.jsx)(ht,{})})]})},bt=window.require("electron").ipcRenderer,pt=t(20);var Ot=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).state={nosaukums:"",alga:"",showAlert:!1,alertMessage:""},n.data={},n.handleNameChange=n.handleNameChange.bind(Object(Ze.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(Ze.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(e){var a=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(gt,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return a.setShowAlert(!1)}}),Object(p.jsx)(xt,Object(w.a)({nosaukums:this.state.nosaukums,handleNameChange:this.handleNameChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage},this.props))]})}}]),t}(s.a.Component);function gt(e){return e.showAlert?Object(p.jsx)($e.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}var xt=function(e){Object(M.a)(t,e);var a=Object(J.a)(t);function t(e){var n;return Object(_.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(Ze.a)(n)),n}return Object(P.a)(t,[{key:"handleSubmit",value:function(e){var a=this;if(e.preventDefault(),this.data=JSON.parse(bt.sendSync("get-data")),this.data=pt.chain(this.data).get(this.props.type).find({nosaukums:this.props.productName}).get("ra\u017eo\u0161anas_grupas").value(),""===this.props.nosaukums)this.props.setShowAlert(!0),this.props.setAlertMessage("Enter the data");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===a.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('Manufacturing group "'.concat(this.props.nosaukums,'" already exists'));else{var t={nosaukums:this.props.nosaukums,daudzums:1,darbinieki:[]},n=JSON.parse(bt.sendSync("get-data"));pt.chain(n).get(this.props.type).find({nosaukums:this.props.productName}).get("ra\u017eo\u0161anas_grupas").push(t).value(),bt.sendSync("modify-data",[JSON.stringify(n)])}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"Title"}),Object(p.jsx)(F.a.Control,{placeholder:"e.g. main production line",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"Submit"})]})}}]),t}(s.a.Component),ft=function(e){var a=Object(b.h)(),t=a.productName,n=a.type;return Object(p.jsx)(Ot,{productName:t,type:n})},vt=window.require("electron").ipcRenderer,kt=t(20);function yt(e){var a=JSON.parse(vt.sendSync("get-data")),t=Object(n.useState)(parseFloat(a.alcohol_tax)),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"Excise (for 1% alk. per 100l):"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0410\u043a\u0446\u0438\u0437 (\u0437\u0430 1 \u0433\u0440\u0430\u0434\u0443\u0441 \u043d\u0430 100\u043b)",value:r,onChange:function(e){i(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),d(!0)):(d(!1),a.alcohol_tax=parseFloat(r),vt.sendSync("modify-data",[JSON.stringify(a)]),function(e){var a=JSON.parse(vt.sendSync("get-data"));kt.chain(a).get("produkti").value().forEach((function(a){var t=a.alcohol_tax;null!=t&&(t.value=e,t.summa=t.value*t.alcohol/100*t.volume)})),vt.sendSync("modify-data",[JSON.stringify(a)])}(a.alcohol_tax))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u043a\u0446\u0438\u0437"})]})})})]})})})}var St=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"Excise"}),Object(p.jsx)(G,{headerNames:["Name","Value"],tableBody:Object(p.jsx)(yt,{})})]})},Nt=window.require("electron").ipcRenderer;var Ct=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Delete the element"}),Object(p.jsx)("h3",{children:"Are you sure you want to delete this element?"}),Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(){Nt.send("cancel-delete")},children:"cancel"}),Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){Nt.send("confirm-delete")},children:"delete"})]})};var wt=function(e){var a=Object(n.useState)(null),t=Object(C.a)(a,2),s=t[0],r=t[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(p.jsx)(F.a.Label,{children:"Default file input example"}),Object(p.jsx)(F.a.Control,{type:"file",onChange:function(e){r(e.target.value)}})]}),Object(p.jsx)(h.a,{variant:"success",type:"button",size:"sm",onClick:function(){console.log("clicked!!!"),console.log(s)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})})},Ft=t(44);function At(){var e=Object(b.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function zt(){return Object(p.jsx)("h1",{children:"404 Error"})}function _t(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.c,{children:Object(p.jsx)(b.a,{exact:!0,path:"/product-:kods",children:Object(p.jsx)(Je,{})})})})}function Pt(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(b.c,{children:[Object(p.jsx)(b.a,{exact:!0,path:"/raw-material-all",children:Object(p.jsx)(Ye,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/raw-material-group",children:Object(p.jsx)(Ye,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/raw-material-add",children:Object(p.jsx)(ia,{})})]})})}function Mt(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.c,{children:Object(p.jsx)(b.a,{exact:!0,path:"/group-:groupName",children:Object(p.jsx)(Ve,{})})})})}i.a.render(Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Ft.a,{children:Object(p.jsxs)(b.c,{children:[Object(p.jsx)(b.a,{exact:!0,path:"/",children:Object(p.jsx)(N,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/file",children:Object(p.jsx)(wt,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/product-*",children:[Object(p.jsx)(At,{}),Object(p.jsx)(_t,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/group-*",children:[Object(p.jsx)(At,{}),Object(p.jsx)(Mt,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/expenses-add-window/:destinationEntryNameTemp/:infoTemp",children:Object(p.jsx)(Ga,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/raw-material-*",children:[Object(p.jsx)(At,{}),Object(p.jsx)(Pt,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/fixed-cost-all",children:[Object(p.jsx)(At,{}),Object(p.jsx)(xa,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/fixed-cost-all-add",children:[Object(p.jsx)(At,{}),Object(p.jsx)(ja,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/package-all",children:[Object(p.jsx)(At,{}),Object(p.jsx)(Ia,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/package-add",children:Object(p.jsx)(Xa,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/workers-add",children:Object(p.jsx)(tt,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/workers-all",children:[Object(p.jsx)(At,{}),Object(p.jsx)(lt,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/raz-grupas-add/:productName/:type",children:Object(p.jsx)(ft,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/electricity",children:[Object(p.jsx)(At,{}),Object(p.jsx)(mt,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/alcohol-tax",children:Object(p.jsx)(St,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/warning-delete",children:Object(p.jsx)(Ct,{})}),Object(p.jsx)(b.a,{children:Object(p.jsx)(zt,{})})]})})}),document.getElementById("root")),c()},26:function(e,a,t){}},[[182,1,2]]]);
//# sourceMappingURL=main.ec32c22a.chunk.js.map