(this.webpackJsonpPrimeCostApp=this.webpackJsonpPrimeCostApp||[]).push([[0],{182:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),r=t(35),i=t.n(r),c=(t(13),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,188)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,r=a.getLCP,i=a.getTTFB;t(e),n(e),s(e),r(e),i(e)}))}),o=t(85),l=(t(26),t(51)),d=t(88),u=t(50),j=t(41),h=t(9),m={groupsFileName:"/data/groups-all.json",productsFileName:"/data/products-all.json",rawMaterialFileName:"/data/raw-material-all.json",fixedCostFileName:"/data/fixed-cost-all.json",waterFileName:"/data/water-all.json",packageFileName:"/data/package-all.json",workersFileName:"/data/workers.json",floatPrecision:4,floatPrecisionSecondary:5,floatPrecisionThird:6},b=t(24),p=t(0),O=window.require("electron").ipcRenderer,g=t(21);var x=function(){var e=Object(b.f)();function a(a,t){a!==e.location.pathname&&e.push(a)}return Object(p.jsx)(l.a,{bg:"dark",variant:"dark",sticky:"top",children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(l.a.Brand,{onClick:function(){return a("/")},children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),Object(p.jsx)(l.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(p.jsx)(d.a,{className:"me-auto",children:Object(p.jsxs)(u.a,{id:"nav-dropdown-dark-example",title:"\u041e\u0431\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",menuVariant:"dark",children:[Object(p.jsx)(u.a.Item,{onClick:function(){return a("/raw-material-all")},children:"\u0421\u044b\u0440\u044c\u0435"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/package-all")},children:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/workers-all")},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0447\u0438\u0445"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/electricity")},children:"\u0426\u0435\u043d\u0430 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/fixed-cost-all")},children:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0442\u0440\u0430\u0442\u044b"}),Object(p.jsx)(u.a.Item,{onClick:function(){return a("/alcohol-tax")},children:"\u0410\u043a\u0446\u0438\u0437"})]})}),Object(p.jsx)(d.a,{children:Object(p.jsx)(d.a.Link,{onClick:function(){e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(p.jsx)(h.a,{variant:"outline-success",onClick:function(){var e=JSON.parse(O.sendSync("get-data")),a=g.chain(e).get("produkti").value(),t=e.izejvielas,n=[];a.forEach((function(e){if("Pudeles"===e.grupa){var a=e.izejvielas,t=e["fiks\u0113tie"],s=e.udens_sagatavosana,r=e.iepakojums.elementi,i=e["ra\u017eo\u0161anas_grupas"],c=e.elektriba,o=e.deposit,l=0,d=0;a.forEach((function(e){l+=e.kopuma})),s.forEach((function(e){l+=e.cena})),r.forEach((function(e){l+=e.summa_vien,d+=e.summa_vien})),i.forEach((function(e){e.darbinieki.forEach((function(e){l+=e.summa_vien}))})),l+=c.summa,l+=t.summa;var u=(l+=o)-o-d;e.cena=l.toFixed(m.floatPrecisionThird),e["cena(bez iepak.)"]=u.toFixed(m.floatPrecisionThird),n.push(e)}})),a.forEach((function(e){if("Pudeles"===e.grupa){var n=g.chain(t).find({nosaukums:e.nosaukums}).value();if(void 0===n){var s={kods:"pudele",nosaukums:e.nosaukums,mervieniba:"gab",cena:e["cena(bez iepak.)"]};t.push(s)}else n.cena=e["cena(bez iepak.)"];a.forEach((function(a){var t=g.chain(a).get("izejvielas").find({nosaukums:e.nosaukums}).value();if(void 0!==t){var n=e["cena(bez iepak.)"]*t.daudzums;g.chain(t).assign({cena:e["cena(bez iepak.)"]}).assign({kopuma:parseFloat(n)}).value()}}))}})),a.forEach((function(e){var a=e.izejvielas,t=e["fiks\u0113tie"],n=e.udens_sagatavosana,s=e.iepakojums.elementi,r=e["ra\u017eo\u0161anas_grupas"],i=e.elektriba,c=e.deposit,o=e.alcohol_tax,l=0;a.forEach((function(e){l+=e.kopuma})),n.forEach((function(e){l+=e.cena})),s.forEach((function(e){l+=e.summa_vien})),r.forEach((function(e){e.darbinieki.forEach((function(e){l+=e.summa_vien}))})),l+=i.summa,l+=t.summa,l+=c,null!=o&&(l+=o.summa),e.cena=l})),O.sendSync("modify-data",[JSON.stringify(e)])},children:"\u0412\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u0441\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"})]})})},f=window.require("electron").ipcRenderer;function v(){var e=JSON.parse(f.sendSync("get-data")),a=e.grupas,t=e.produkti,n=[];return a.forEach((function(e){var a=t.filter((function(a){return a.grupa===e.nosaukums}));n.push(Object(p.jsx)(k,{groupName:e.nosaukums,productList:a},e.nosaukums))})),Object(p.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Kods"}),Object(p.jsx)("th",{children:"Nosaukums"}),Object(p.jsx)("th",{children:"\u0415\u0432\u0440\u043e/\u0431\u0443\u0442."})]})}),Object(p.jsx)("tbody",{children:n})]})}function k(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("tr",{className:"table-secondary",children:Object(p.jsx)("td",{colSpan:"3",children:e.groupName})}),Object(p.jsx)(y,{productList:e.productList})]})}function y(e){var a=e.productList,t=[];return a.forEach((function(e){t.push(Object(p.jsx)(S,{item:e},e.nosaukums))})),t}function S(e){var a=Object(b.f)();return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{className:"product-cell",onClick:function(){a.push("/product-"+e.item.kods)},children:e.item.nosaukums}),Object(p.jsx)("td",{children:parseFloat(e.item.cena).toFixed(m.floatPrecision)})]})}var N=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)(v,{})]})},C=t(4),w=t(2),F=t(3),A=t(58),_=t(43),z=t(17),J=t(18),M=t(22),P=t(23),E=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(){return Object(z.a)(this,t),a.apply(this,arguments)}return Object(J.a)(t,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(o.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(p.jsx)(G,{headerNames:this.props.headerNames}),this.props.tableBody]})})}}]),t}(s.a.Component);function G(e){var a=[];return e.headerNames.forEach((function(e){a.push(Object(p.jsx)("th",{children:e},e.toString()))})),Object(p.jsx)("thead",{className:"text-center",children:Object(p.jsx)("tr",{children:a})})}var V=E,D=window.require("electron").ipcRenderer;var B=function(e){return Object(p.jsx)("div",{className:"addEntryButtons",children:Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(a){return t={to:"produkti",from:e.from,type:"all"},void D.send("expenses-add-window",[e.nosaukums,JSON.stringify(t)]);var t},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})},q=(t(91),window.require("electron").ipcRenderer),T=t(21);function I(e){var a=JSON.parse(q.sendSync("get-data")),t=T.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("izejvielas").value(),n=[],s=0,r=0;return t.forEach((function(a){n.push(Object(p.jsx)(R,Object(w.a)({item:a,productName:e.nosaukums},e),a.nosaukums)),s+=a.kopuma,"gab"!==a.mervieniba&&(r+=a.daudzums)})),Object(p.jsxs)("tbody",{children:[n,Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"text-end fw-bold",children:"Kop\u0101:"}),Object(p.jsx)("td",{children:parseFloat(r).toFixed(2)+" (kg, l)"}),Object(p.jsx)("td",{children:parseFloat(s).toFixed(m.floatPrecisionSecondary)})]})]})}function R(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(parseFloat(e.item.daudzums)),u=Object(C.a)(d,2),j=u[0],h=u[1],b=Object(n.useState)(!1),O=Object(C.a)(b,2),g=O[0],x=O[1],f=parseFloat(e.item.kopuma);return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:Object(p.jsx)(L,{validated:o,cena:s,handleChange:function(e){r(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),l(!0);else{l(!1);var n=j*s,r=JSON.parse(q.sendSync("get-data"));T.chain(r).get(e.type).find({nosaukums:e.productName}).get("izejvielas").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).assign({kopuma:parseFloat(n)}).value(),q.sendSync("modify-data",[JSON.stringify(r)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:Object(p.jsx)(K,{validated:g,daudzums:j,handleChange:function(e){h(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),x(!0);else{x(!1);var n=t.target.value,r=n*s,i=JSON.parse(q.sendSync("get-data"));T.chain(i).get(e.type).find({nosaukums:e.productName}).get("izejvielas").find({nosaukums:e.item.nosaukums}).assign({daudzums:parseFloat(n)}).assign({kopuma:parseFloat(r)}).value(),q.sendSync("modify-data",[JSON.stringify(i)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:parseFloat(f).toFixed(m.floatPrecision+1)}),Object(p.jsx)("td",{children:Object(p.jsx)(H,Object(w.a)({izejvielaName:e.item.nosaukums,productName:e.productName,fileName:e.fileName},e))})]})}function L(e){return Object(p.jsx)(j.a,{children:Object(p.jsx)(A.a,{children:Object(p.jsx)(_.a,{children:Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"cena",type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:e.cena,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})})})})}function K(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.daudzums,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})}function H(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=e.izejvielaName,t=JSON.parse(q.sendSync("get-data"));q.send("warning-delete"),q.on("confirm-delete",(function(n,s){T.chain(t).get(e.type).find({nosaukums:e.productName}).get("izejvielas").remove({nosaukums:a}).value(),q.sendSync("modify-data",[JSON.stringify(t)])}))}(e.fileName)},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}var U=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0421\u044b\u0440\u044c\u0451"}),Object(p.jsx)(V,{headerNames:["Kods","Nosaukums","M\u0113rvien\u012bba","Cena","Norma","\u0426\u0435\u043d\u0430/\u0435\u0434","\u0423\u0431\u0440\u0430\u0442\u044c"],tableBody:Object(p.jsx)(I,Object(w.a)({},e))}),Object(p.jsx)(B,{nosaukums:e.nosaukums,type:e.type,from:"izejvielas"})]})},W=window.require("electron").ipcRenderer,Q=t(21);function X(e){var a=JSON.parse(W.sendSync("get-data")),t=Q.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value(),s=Q.chain(a).get("fiks\u0113tie").value(),r=t["fiks\u0113tie"],i=Object(n.useState)(r.vien_daudzums),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(C.a)(d,2),j=u[0],h=u[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u041e\u0431\u0449\u0430\u044f \u0446\u0435\u043d\u0430 \u0437\u0430 \u0435\u0434\u0438\u043d\u0438\u0446\u0443:"}),Object(p.jsx)("td",{className:"col-md-6",children:s.vien_summa.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0435\u0434\u0438\u043d\u0438\u0446:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:j,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:o,onChange:function(e){l(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),h(!0)):(h(!1),r.vien_daudzums=parseFloat(o),r.summa=s.vien_summa*r.vien_daudzums,W.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0421\u0443\u043c\u043c\u0430:"}),Object(p.jsx)("td",{children:r.summa.toFixed(m.floatPrecisionSecondary)})]})]})})}var Y=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0445\u043e\u0434\u044b"}),Object(p.jsx)(V,{headerNames:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"],tableBody:Object(p.jsx)(X,Object(w.a)({},e))})]})},Z=t(19),$=window.require("electron").ipcRenderer,ee=t(21);function ae(e){return Object(p.jsx)(j.a,{fluid:!0,children:Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{as:A.a,children:[Object(p.jsx)(_.a,{md:"4",children:Object(p.jsx)("div",{className:"text-end",children:Object(p.jsx)(F.a.Label,{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0435\u0434\u0438\u043d\u0438\u0446 \u0432 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0435:"})})}),Object(p.jsxs)(_.a,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.vienDaudzums,onChange:e.vienDaudzumsHandleChange,onBlur:e.vienDaudzumsHandleValidation,style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})]})})})}function te(e){var a=JSON.parse($.sendSync("get-data")),t=ee.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("iepakojums").get("elementi").value(),s=[],r=0,i=0;return t.forEach((function(a){s.push(Object(n.createElement)(ne,Object(w.a)(Object(w.a)({},e),{},{key:a.nosaukums,item:a,productName:e.nosaukums,fileName:"/.."}))),r+=a.summa_iepak,i+=a.summa_vien})),Object(p.jsxs)("tbody",{children:[s,Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"text-end fw-bold",children:"Kop\u0101:"}),Object(p.jsx)("td",{children:r.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:i.toFixed(m.floatPrecisionSecondary)})]})]})}function ne(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(parseFloat(e.item.norma)),u=Object(C.a)(d,2),j=u[0],h=u[1],b=Object(n.useState)(!1),O=Object(C.a)(b,2),g=O[0],x=O[1],f=Object(n.useState)(parseFloat(j*s)),v=Object(C.a)(f,2),k=v[0],y=v[1],S=Object(n.useState)(k/e.vienDaudzums),N=Object(C.a)(S,2),F=N[0],A=N[1];return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:Object(p.jsx)(se,{validated:o,cena:s,handleChange:function(e){r(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),l(!0);else{l(!1);var n=j*s,r=n/e.vienDaudzums;y(n),A(r),console.log(s),console.log(j),console.log(n),console.log(r);var i=JSON.parse($.sendSync("get-data"));ee.chain(i).get(e.type).find({nosaukums:e.productName}).get("iepakojums").get("elementi").find({nosaukums:e.item.nosaukums}).assign({summa_iepak:parseFloat(n)}).assign({summa_vien:parseFloat(r)}).assign({cena:parseFloat(s)}).value(),$.sendSync("modify-data",[JSON.stringify(i)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:Object(p.jsx)(re,{validated:g,norma:j,handleChange:function(e){h(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),x(!0);else{x(!1);var n=j*s,r=n/e.vienDaudzums,i=JSON.parse($.sendSync("get-data"));ee.chain(i).get(e.type).find({nosaukums:e.productName}).get("iepakojums").get("elementi").find({nosaukums:e.item.nosaukums}).assign({summa_iepak:parseFloat(n)}).assign({summa_vien:parseFloat(r)}).assign({norma:parseFloat(j)}).value(),$.sendSync("modify-data",[JSON.stringify(i)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:k.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:F.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(ie,Object(w.a)({packageName:e.item.nosaukums,productName:e.productName,fileName:e.fileName},e))})]})}function se(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"cena",type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:e.cena,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})}function re(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.norma,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"28px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})}function ie(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=JSON.parse($.sendSync("get-data"));$.send("warning-delete"),$.on("confirm-delete",(function(t,n){ee.chain(a).get(e.type).find({nosaukums:e.productName}).get("iepakojums").get("elementi").remove({nosaukums:e.packageName}).value(),$.sendSync("modify-data",[JSON.stringify(a)])}))}(e.fileName)},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}function ce(e){function a(a,t){$.send("expenses-add-window",[e.nosaukums,JSON.stringify(t)])}var t="";return"produkti"===e.type?t=Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(Z.a.Toggle,{variant:"secondary",id:"dropdown-basic",size:"sm",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437"}),Object(p.jsxs)(Z.a.Menu,{children:[Object(p.jsx)(Z.a.Item,{onClick:function(e){return a(0,{to:"produkti",from:"iepakojums",type:"all"})},children:"\u041e\u0431\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(p.jsx)(Z.a.Item,{onClick:function(e){return a(0,{to:"produkti",from:"iepakojums",type:"group"})},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f\u044b"})]})]}):"grupas"===e.type&&(t=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(e){return a(0,{to:"grupas",from:"iepakojums",type:"all"})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})),Object(p.jsx)("div",{className:"addEntryButtons",children:t})}var oe=function(e){var a=JSON.parse($.sendSync("get-data")),t=ee.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("iepakojums").get("daudzums").value(),s=Object(n.useState)(parseFloat(t)),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"}),Object(p.jsx)(ae,{validated:d,vienDaudzums:i,vienDaudzumsHandleChange:function(e){c(e.target.value)},vienDaudzumsHandleValidation:function(a){return function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),u(!0);else{u(!1);var t=a.target.value,n=JSON.parse($.sendSync("get-data")),s=ee.chain(n).get(e.type).find({nosaukums:e.nosaukums}).get("iepakojums").value(),r=s.elementi;s.daudzums=parseFloat(t),r.forEach((function(e){e.summa_vien=e.summa_iepak/s.daudzums})),$.sendSync("modify-data",[JSON.stringify(n)])}}(a)},fileName:e.fileName}),Object(p.jsx)(V,{headerNames:["Kods","Nosaukums","M\u0113rvien\u012bba","Cena","Norma","Summa/iepak","\u0426\u0435\u043d\u0430/\u0435\u0434","\u0423\u0431\u0440\u0430\u0442\u044c"],tableBody:Object(p.jsx)(te,Object(w.a)({vienDaudzums:i},e))}),Object(p.jsx)(ce,{nosaukums:e.nosaukums,type:e.type})]})},le=window.require("electron").ipcRenderer,de=t(21);function ue(e){var a=JSON.parse(le.sendSync("get-data")),t=["Darbinieks","Alga","Alga ar nodok\u013ci ("+de.chain(a).get("darbinieku_nodoklis").value()+"%)","\u0427\u0430\u0441\u043e\u0432 \u0440\u0430\u0431\u043e\u0442\u044b","Summa","\u0426\u0435\u043d\u0430/\u0435\u0434","\u0423\u0431\u0440\u0430\u0442\u044c"],s=Object(n.useState)(parseFloat(e.item.daudzums)),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h4",{className:"text-center",children:e.item.nosaukums}),Object(p.jsx)(je,{validated:d,vienDaudzums:i,vienDaudzumsHandleChange:function(e){c(e.target.value)},vienDaudzumsHandleValidation:function(a){return function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),u(!0);else{u(!1);var t=a.target.value,n=JSON.parse(le.sendSync("get-data")),s=de.chain(n).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:e.item.nosaukums}).value(),r=s.darbinieki;s.daudzums=parseFloat(t),r.forEach((function(e){e.summa_vien=e.summa/s.daudzums})),le.sendSync("modify-data",[JSON.stringify(n)])}}(a)}}),Object(p.jsx)(V,{headerNames:t,tableBody:Object(p.jsx)(he,Object(w.a)({vienDaudzums:i,razGrupNosaukums:e.item.nosaukums},e))}),Object(p.jsx)(xe,Object(w.a)({nosaukums:e.nosaukums,type:e.type},e)),Object(p.jsx)(Oe,Object(w.a)(Object(w.a)({},e),{},{razGrupNosaukums:e.item.nosaukums}))]})}function je(e){return Object(p.jsx)(j.a,{fluid:!0,children:Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{as:A.a,children:[Object(p.jsx)(_.a,{md:"4",children:Object(p.jsx)("div",{className:"text-end",children:Object(p.jsx)(F.a.Label,{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0435\u0434\u0438\u043d\u0438\u0446 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e:"})})}),Object(p.jsxs)(_.a,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.vienDaudzums,onChange:e.vienDaudzumsHandleChange,onBlur:e.vienDaudzumsHandleValidation,style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})]})})})}function he(e){var a=e.item.darbinieki,t=[],s=0,r=0;return a.forEach((function(a){t.push(Object(n.createElement)(me,Object(w.a)(Object(w.a)({},e),{},{key:a.nosaukums,razGrupNosaukums:e.razGrupNosaukums,item:a,productName:e.nosaukums}))),s+=a.summa,r+=a.summa_vien})),Object(p.jsxs)("tbody",{children:[t,Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{className:"text-end fw-bold",children:"Kop\u0101:"}),Object(p.jsx)("td",{children:s.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:r.toFixed(m.floatPrecisionSecondary)})]})]})}function me(e){var a=Object(n.useState)(parseFloat(e.item.norma)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(parseFloat(e.item.summa)),u=Object(C.a)(d,1)[0],j=Object(n.useState)(u/e.vienDaudzums),h=Object(C.a)(j,1)[0];return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.alga}),Object(p.jsx)("td",{children:e.item.alga_nodoklis.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(be,{validated:o,norma:s,handleChange:function(e){r(e.target.value)},handleValidation:function(a){return function(a,t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation(),l(!0);else{l(!1);var n=JSON.parse(le.sendSync("get-data")),r=de.chain(n).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:e.razGrupNosaukums}).get("darbinieki").find({nosaukums:e.item.nosaukums}).value(),i=s*r.alga_nodoklis,c=i/e.vienDaudzums;de.chain(r).assign({summa:parseFloat(i)}).assign({summa_vien:parseFloat(c)}).assign({norma:parseFloat(s)}).value(),le.sendSync("modify-data",[JSON.stringify(n)])}}(e.fileName,a)},fileName:e.fileName})}),Object(p.jsx)("td",{children:u.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:h.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(pe,Object(w.a)({},e))})]})}function be(e){return Object(p.jsx)(F.a,{noValidate:!0,validated:e.validated,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:e.norma,onChange:e.handleChange,onBlur:e.handleValidation,style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})}function pe(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=JSON.parse(le.sendSync("get-data"));le.send("warning-delete"),le.on("confirm-delete",(function(t,n){de.chain(a).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:e.razGrupNosaukums}).get("darbinieki").remove({nosaukums:e.item.nosaukums}).value(),le.sendSync("modify-data",[JSON.stringify(a)])}))}(e.fileName)},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}function Oe(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(a){return function(){var a=JSON.parse(le.sendSync("get-data"));le.send("warning-delete"),le.on("confirm-delete",(function(t,n){de.chain(a).get(e.type).find({nosaukums:e.productName}).get("ra\u017eo\u0161anas_grupas").remove({nosaukums:e.razGrupNosaukums}).value(),le.sendSync("modify-data",[JSON.stringify(a)])}))}(e.fileName)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443"})}function ge(e){function a(e,a){le.send("razGrupas:ask-for-window",[JSON.stringify(a)])}var t="";return"produkti"===e.type?t=Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(Z.a.Toggle,{variant:"secondary",id:"dropdown-basic",size:"sm",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 \u0438\u0437"}),Object(p.jsxs)(Z.a.Menu,{children:[Object(p.jsx)(Z.a.Item,{onClick:function(a){le.send("expenses-add-window",[e.nosaukums,JSON.stringify({to:"produkti",from:"ra\u017eo\u0161anas_grupas",type:"group"})])},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f\u044b"}),Object(p.jsx)(Z.a.Item,{onClick:function(t){return a(0,{productName:e.productName,type:"produkti"})},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041d\u043e\u0432\u044b\u0439"})]})]}):"grupas"===e.type&&(t=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(t){return a(0,{productName:e.productName,type:"grupas"})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430"})),Object(p.jsx)("div",{className:"addEntryButtons",children:t})}function xe(e){function a(a,t){le.send("expenses-add-window",[e.nosaukums,JSON.stringify(t)])}var t="";return"produkti"===e.type?t=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(t){return a(0,{to:"produkti",from:"darbinieki",type:"all",raz_grupas_nosaukums:e.item.nosaukums})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430"}):"grupas"===e.type&&(t=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(t){return a(0,{to:"grupas",from:"darbinieki",type:"all",raz_grupas_nosaukums:e.item.nosaukums})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430"})),Object(p.jsx)("div",{className:"addEntryButtons",children:t})}var fe=function(e){var a=JSON.parse(le.sendSync("get-data")),t=de.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("ra\u017eo\u0161anas_grupas").value(),s=[];return t.forEach((function(a){s.push(Object(n.createElement)(ue,Object(w.a)(Object(w.a)({},e),{},{key:a.nosaukums,item:a,productName:e.nosaukums})))})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430"}),s,Object(p.jsx)(ge,Object(w.a)({productName:e.nosaukums},e))]})},ve=window.require("electron").ipcRenderer,ke=t(21);function ye(e){var a=JSON.parse(ve.sendSync("get-data")),t=ke.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value(),s=ke.chain(a).get("elektriba").value(),r=t.elektriba,i=Object(n.useState)(r.vien_daudzums),c=Object(C.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(C.a)(d,2),j=u[0],h=u[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u041e\u0431\u0449\u0430\u044f \u0446\u0435\u043d\u0430 \u0437\u0430 \u0435\u0434\u0438\u043d\u0438\u0446\u0443:"}),Object(p.jsx)("td",{className:"col-md-6",children:s.vien_summa.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0435\u0434\u0438\u043d\u0438\u0446:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:j,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:o,onChange:function(e){l(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),h(!0)):(h(!1),r.vien_daudzums=parseFloat(o),r.summa=s.vien_summa*r.vien_daudzums,ve.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0421\u0443\u043c\u043c\u0430:"}),Object(p.jsx)("td",{children:r.summa.toFixed(m.floatPrecisionSecondary)})]})]})})}var Se=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u042d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(p.jsx)(V,{headerNames:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"],tableBody:Object(p.jsx)(ye,Object(w.a)({},e))})]})},Ne=window.require("electron").ipcRenderer,Ce=t(21);function we(e){var a=JSON.parse(Ne.sendSync("get-data")),t=Ce.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value().deposit;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u0421\u0443\u043c\u043c\u0430:"}),Object(p.jsx)("td",{children:t.toFixed(m.floatPrecisionSecondary)})]})})})}var Fe=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0414\u0435\u043f\u043e\u0437\u0438\u0442"}),Object(p.jsx)(V,{headerNames:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"],tableBody:Object(p.jsx)(we,Object(w.a)({},e))})]})},Ae=window.require("electron").ipcRenderer,_e=t(21);function ze(e){var a=JSON.parse(Ae.sendSync("get-data")),t=_e.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value().alcohol_tax,s=Object(n.useState)(t.alcohol),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(t.volume),h=Object(C.a)(j,2),b=h[0],O=h[1],g=Object(n.useState)(!1),x=Object(C.a)(g,2),f=x[0],v=x[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u0410\u043a\u0446\u0438\u0437 (\u0437\u0430 1 \u0433\u0440\u0430\u0434\u0443\u0441 \u043d\u0430 100\u043b):"}),Object(p.jsx)("td",{children:t.value.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0413\u0440\u0430\u0434\u0443\u0441\u043d\u043e\u0441\u0442\u044c (%):"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:d,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:i,onChange:function(e){c(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),u(!0)):(u(!1),t.alcohol=parseFloat(i),t.summa=t.value*t.alcohol/100*t.volume,Ae.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u041e\u0431\u044c\u0451\u043c (\u041b):"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:f,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:b,onChange:function(e){O(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),v(!0)):(v(!1),t.volume=parseFloat(b),t.summa=t.value*t.alcohol/100*t.volume,Ae.sendSync("modify-data",[JSON.stringify(a)]))},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u0421\u0443\u043c\u043c\u0430:"}),Object(p.jsx)("td",{children:t.summa.toFixed(m.floatPrecisionSecondary)})]})]})})}var Je=function(e){var a=JSON.parse(Ae.sendSync("get-data"));return null==_e.chain(a).get(e.type).find({nosaukums:e.nosaukums}).value().alcohol_tax?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0410\u043a\u0446\u0438\u0437"}),Object(p.jsx)(V,{headerNames:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"],tableBody:Object(p.jsx)(ze,Object(w.a)({},e))})]})},Me=window.require("electron").ipcRenderer,Pe=t(21);function Ee(e){var a=e.productObject;return"Pudeles"===a.grupa?Object(p.jsx)("h4",{children:"Cena bez iepak: "+parseFloat(a["cena(bez iepak.)"]).toFixed(m.floatPrecision)}):null}var Ge=function(){var e=Object(b.h)().kods,a=JSON.parse(Me.sendSync("get-data")),t=Pe.chain(a).get("produkti").find({kods:parseInt(e)}).value();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h2",{children:"Produkts: "+t.nosaukums}),Object(p.jsx)("h4",{children:"Kods: "+t.kods}),Object(p.jsx)("h4",{children:"Cena: "+parseFloat(t.cena).toFixed(m.floatPrecision)}),Object(p.jsx)(Ee,{productObject:t}),Object(p.jsx)(Se,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(U,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(Y,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(oe,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(fe,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(Fe,{nosaukums:t.nosaukums,type:"produkti"}),Object(p.jsx)(Je,{nosaukums:t.nosaukums,type:"produkti"})]})},Ve=window.require("electron").ipcRenderer,De=t(21);function Be(e){var a=JSON.parse(Ve.sendSync("get-data")),t=De.chain(a).get(e.type).find({nosaukums:e.nosaukums}).get("udens_sagatavosana").value(),n=[],s=0;return t.forEach((function(a){n.push(Object(p.jsx)(qe,Object(w.a)({item:a,productName:e.nosaukums},e),a.nosaukums)),s+=a.cena})),Object(p.jsxs)("tbody",{children:[n,Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"text-end fw-bold",children:"Kop\u0101:"}),Object(p.jsx)("td",{children:s})]})]})}function qe(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1];return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:o,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:s,onChange:function(e){r(e.target.value)},onBlur:function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),l(!0);else{l(!1);var t=JSON.parse(Ve.sendSync("get-data"));De.chain(t).get(e.type).find({nosaukums:e.productName}).get("udens_sagatavosana").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).value(),Ve.sendSync("modify-data",[JSON.stringify(t)])}},style:{width:"120px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})}),Object(p.jsx)("td",{children:Object(p.jsx)(Te,Object(w.a)({entryName:e.item.nosaukums,productName:e.productName},e))})]})}function Te(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=e.productName,t=e.entryName,n=JSON.parse(Ve.sendSync("get-data"));Ve.send("warning-delete"),Ve.on("confirm-delete",(function(s,r){De.chain(n).get(e.type).find({nosaukums:a}).get("udens_sagatavosana").remove({nosaukums:t}).value(),Ve.sendSync("modify-data",[JSON.stringify(n)])}))},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}function Ie(e){function a(a,t){Ve.send("expenses-add-window",[e.nosaukums,JSON.stringify(t)])}var t="";return"produkti"===e.type?t=Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(Z.a.Toggle,{variant:"secondary",id:"dropdown-basic",size:"sm",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437"}),Object(p.jsxs)(Z.a.Menu,{children:[Object(p.jsx)(Z.a.Item,{onClick:function(e){return a(0,{to:"produkti",from:"udens_sagatavosana",type:"all"})},children:"\u041e\u0431\u0449\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a"}),Object(p.jsx)(Z.a.Item,{onClick:function(e){return a(0,{to:"produkti",from:"udens_sagatavosana",type:"group"})},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0433\u0440\u0443\u043f\u043f\u044b"})]})]}):"grupas"===e.type&&(t=Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(e){return a(0,{to:"grupas",from:"udens_sagatavosana",type:"all"})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})),Object(p.jsx)("div",{className:"addEntryButtons",children:t})}var Re=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h3",{className:"text-center",children:"\u0412\u043e\u0434\u043e\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430"}),Object(p.jsx)(V,{headerNames:["\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u0432\u043e\u0434\u043e\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438","\u0426\u0435\u043d\u0430/\u0435\u0434","\u0423\u0431\u0440\u0430\u0442\u044c"],tableBody:Object(p.jsx)(Be,Object(w.a)({},e))}),Object(p.jsx)(Ie,{nosaukums:e.nosaukums,type:e.type})]})};function Le(e){var a=Object(b.f)();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(l.a,{bg:"dark",variant:"dark",children:Object(p.jsx)(j.a,{children:Object(p.jsx)(l.a.Brand,{onClick:function(e){return t="/",void a.push(t);var t},children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})})})}var Ke=function(){var e=Object(b.h)().groupName;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Le,{groupName:e}),Object(p.jsx)("h2",{children:"Grupa: "+e}),Object(p.jsx)(Se,{nosaukums:e,type:"grupas"}),Object(p.jsx)(U,{nosaukums:e,type:"grupas"}),Object(p.jsx)(Y,{nosaukums:e,type:"grupas"}),Object(p.jsx)(Re,{nosaukums:e,type:"grupas"}),Object(p.jsx)(oe,{nosaukums:e,type:"grupas"}),Object(p.jsx)(fe,{nosaukums:e,type:"grupas"})]})},He=t(86),Ue=t.n(He),We=t(109),Qe=t.n(We),Xe=t(62),Ye=t.n(Xe),Ze=window.require("electron").ipcRenderer;var $e=function(e){return Object(p.jsx)("div",{className:"addEntryButtons",children:Object(p.jsx)(h.a,{variant:"secondary",size:"sm",id:"addEntryButtons",onClick:function(){Ze.send(e.message)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})},ea=window.require("electron").ipcRenderer,aa=t(21);function ta(e,a,t){return Object(p.jsx)(ra,{nosaukums:a.nosaukums})}var na=Qe()({mode:"dbclick",blurToSave:!0,afterSaveCell:function(e,a,t,n){var s=a,r=JSON.parse(ea.sendSync("get-data"));aa.chain(r).get("izejvielas").find({nosaukums:t.nosaukums}).assign({cena:parseFloat(s)}).value();var i=aa.chain(r).get("produkti").value(),c=aa.chain(r).get("grupas").value();i.forEach((function(e){var a=aa.chain(e).get("izejvielas").find({nosaukums:t.nosaukums}).value();if(void 0!==a){var n=s*a.daudzums;aa.chain(a).assign({cena:parseFloat(s)}).assign({kopuma:parseFloat(n)}).value()}})),c.forEach((function(e){var a=aa.chain(e).get("izejvielas").find({nosaukums:t.nosaukums}).value();if(void 0!==a){var n=s*a.daudzums;aa.chain(a).assign({cena:parseFloat(s)}).assign({kopuma:parseFloat(n)}).value()}})),ea.sendSync("modify-data",[JSON.stringify(r),!1])}});function sa(e){var a=JSON.parse(ea.sendSync("get-data"));a=aa.chain(a).get("izejvielas").value();var t=Xe.Search.SearchBar,n=[{dataField:"kods",text:"Kods",editable:!1,sort:!0,headerAlign:"center",headerStyle:{width:"80px"}},{dataField:"nosaukums",text:"Nosaukums",sort:!0,headerAlign:"center",editable:!1},{dataField:"mervieniba",text:"M\u0113rvieniba",headerAlign:"center",headerStyle:{width:"12%"},editable:!1},{dataField:"cena",text:"Cena",sort:!0,headerAlign:"center",headerStyle:{width:"200px"},validator:function(e,a,t){return!isNaN(e)||{valid:!1,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"}}},{dataField:"",text:"\u0423\u0431\u0440\u0430\u0442\u044c",headerAlign:"center",headerStyle:{width:"80px"},editable:!1,formatter:ta}];return Object(p.jsx)(Ye.a,{keyField:"nosaukums",data:a,columns:n,search:!0,children:function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e:"}),Object(p.jsx)(t,Object(w.a)(Object(w.a)({},e.searchProps),{},{className:"custom-search-field",placeholder:"\u041d\u0430\u0439\u0442\u0438",srText:""})),Object(p.jsx)("hr",{}),Object(p.jsx)(Ue.a,Object(w.a)(Object(w.a)({},e.baseProps),{},{bootstrap4:!0,striped:!0,hover:!0,condensed:!0,cellEdit:na}))]})}})}function ra(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=JSON.parse(ea.sendSync("get-data"));ea.send("warning-delete"),ea.on("confirm-delete",(function(t,n){aa.chain(a).get("izejvielas").remove({nosaukums:e.nosaukums}).value(),ea.sendSync("modify-data",[JSON.stringify(a)])}))},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}var ia=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"\u0421\u044b\u0440\u044c\u0451"}),Object(p.jsx)($e,{message:"raw-material:ask-for-window"}),Object(p.jsx)(sa,{})]})},ca=t(10),oa=t(31),la=window.require("electron").ipcRenderer,da=t(21),ua=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).state={kods:"",nosaukums:"",mervieniba:"",cena:"",showAlert:!1,alertMessage:""},n.data={},n.handleKodsChange=n.handleKodsChange.bind(Object(ca.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(ca.a)(n)),n.handleMervienibaChange=n.handleMervienibaChange.bind(Object(ca.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(ca.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(ca.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleKodsChange",value:function(e){this.setState({kods:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handleMervienibaChange",value:function(e){console.log(e.target.value),this.setState({mervieniba:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({cena:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ja,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(ma,{kods:this.state.kods,nosaukums:this.state.nosaukums,mervieniba:this.state.mervieniba,cena:this.state.cena,handleKodsChange:this.handleKodsChange,handleMervienibaChange:this.handleMervienibaChange,handleNameChange:this.handleNameChange,handlePriceChange:this.handlePriceChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function ja(e){return e.showAlert?Object(p.jsx)(oa.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}function ha(e){return"string"==typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))}var ma=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleSubmit",value:function(e){var a=this;if(e.preventDefault(),this.data=JSON.parse(la.sendSync("get-data")),this.data=da.chain(this.data).get("izejvielas").value(),""===this.props.nosaukums||""===this.props.cena||""===this.props.kods||""===this.props.mervieniba)this.props.setShowAlert(!0),this.props.setAlertMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");else{var t=this.data.find((function(e){return parseInt(e.kods)===parseInt(a.props.kods)}));if("undefined"!=typeof t)this.props.setShowAlert(!0),this.props.setAlertMessage('\u041a\u043e\u0434 "'.concat(this.props.kods,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else if("undefined"!=typeof(t=this.data.find((function(e){return e.nosaukums===a.props.nosaukums}))))this.props.setShowAlert(!0),this.props.setAlertMessage('\u0421\u044b\u0440\u044c\u0435 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'.concat(this.props.nosaukums,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else if(ha(this.props.cena))if(ha(this.props.kods)){var n={kods:parseInt(this.props.kods),nosaukums:this.props.nosaukums,mervieniba:this.props.mervieniba,cena:parseFloat(this.props.cena)},s=JSON.parse(la.sendSync("get-data"));da.chain(s).get("izejvielas").push(n).value(),la.sendSync("modify-data",[JSON.stringify(s)])}else this.props.setShowAlert(!0),this.props.setAlertMessage("\u041a\u043e\u0434 \u0432\u0432\u0435\u0434\u0435\u043d \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");else this.props.setShowAlert(!0),this.props.setAlertMessage("\u0426\u0435\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435")}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041a\u043e\u0434 \u0421\u044b\u0440\u044c\u044f"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041a\u043e\u0434",value:this.props.kods,onChange:this.props.handleKodsChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0421\u044b\u0440\u044c\u044f"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"M\u0113rvien\u012bba"}),Object(p.jsxs)(F.a.Select,{"aria-label":"Default select example",value:this.props.mervieniba,onChange:this.props.handleMervienibaChange,children:[Object(p.jsx)("option",{value:"",children:"M\u0113rvien\u012bba"}),Object(p.jsx)("option",{value:"kg",children:"kg"}),Object(p.jsx)("option",{value:"gab",children:"gab"}),Object(p.jsx)("option",{value:"l",children:"l"})]})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"\u0426\u0435\u043d\u0430"}),Object(p.jsx)(F.a.Control,{placeholder:"\u0426\u0435\u043d\u0430",value:this.props.cena,onChange:this.props.handlePriceChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}}]),t}(s.a.Component),ba=ua,pa=window.require("electron").ipcRenderer,Oa=t(21),ga=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).state={nosaukums:"",cena:"",showAlert:!1,alertMessage:""},n.data={},n.handleNameChange=n.handleNameChange.bind(Object(ca.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(ca.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(ca.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({cena:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(xa,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(fa,{nosaukums:this.state.nosaukums,cena:this.state.cena,handleNameChange:this.handleNameChange,handlePriceChange:this.handlePriceChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function xa(e){return e.showAlert?Object(p.jsx)(oa.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}var fa=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleSubmit",value:function(e){var a,t=this;if(e.preventDefault(),this.data=JSON.parse(pa.sendSync("get-data")),this.data=Oa.chain(this.data).get("fiks\u0113tie").value(),""===this.props.nosaukums||""===this.props.cena)this.props.setShowAlert(!0),this.props.setAlertMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===t.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0437\u0430\u0442\u0440\u0430\u0442\u0430 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'.concat(this.props.nosaukums,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else if("string"!=typeof(a=this.props.cena)||isNaN(a)||isNaN(parseFloat(a)))this.props.setShowAlert(!0),this.props.setAlertMessage("\u0426\u0435\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");else{var n={nosaukums:this.props.nosaukums,cena:parseFloat(this.props.cena)},s=JSON.parse(pa.sendSync("get-data"));Oa.chain(s).get("fiks\u0113tie").push(n).value(),pa.sendSync("modify-data",[JSON.stringify(s)])}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0417\u0430\u0442\u0440\u0430\u0442\u044b"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(p.jsx)(F.a.Control,{placeholder:"\u0426\u0435\u043d\u0430",value:this.props.cena,onChange:this.props.handlePriceChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}}]),t}(s.a.Component),va=ga,ka=window.require("electron").ipcRenderer,ya=t(21);function Sa(){var e=JSON.parse(ka.sendSync("get-data")),a=ya.chain(e).get("fiks\u0113tie").value(),t=Object(n.useState)(a.vien_daudzums),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-4 text-end",children:"\u0415\u0434\u0438\u043d\u0438\u0446 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043d\u043e:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:r,onChange:function(e){i(e.target.value)},onBlur:function(t){!1===t.currentTarget.checkValidity()?(t.preventDefault(),t.stopPropagation(),d(!0)):(d(!1),a.vien_daudzums=parseFloat(r),a.vien_summa=a.summa/a.vien_daudzums,ka.sendSync("modify-data",[JSON.stringify(e)]),wa(a.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsx)(Na,{elementi:a.elementi}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445:"}),Object(p.jsx)("td",{children:a.summa.toFixed(m.floatPrecisionSecondary)})]}),Object(p.jsxs)("tr",{className:"align-middle ",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0426\u0435\u043d\u0430/\u0435\u0434:"}),Object(p.jsx)("td",{children:a.vien_summa.toFixed(m.floatPrecisionSecondary)})]})]})})}function Na(e){var a=e.elementi,t=[];return a.forEach((function(e){t.push(Object(p.jsx)(Ca,{item:e},e.nosaukums))})),t}function Ca(e){var a=e.item,t=Object(n.useState)(parseFloat(a.value)),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:a.nosaukums+":"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:r,onChange:function(e){i(e.target.value)},onBlur:function(e){if(!1===e.currentTarget.checkValidity())e.preventDefault(),e.stopPropagation(),d(!0);else{d(!1);var t=JSON.parse(ka.sendSync("get-data")),n=ya.chain(t).get("fiks\u0113tie").value();ya.chain(n).get("elementi").find({nosaukums:a.nosaukums}).value().value=parseFloat(r);var s=n.elementi,i=parseFloat(0);s.forEach((function(e){i+=e.value})),n.summa=parseFloat(i),n.vien_summa=n.summa/n.vien_daudzums,console.log(n.vien_summa),ka.sendSync("modify-data",[JSON.stringify(t)]),wa(n.vien_summa)}},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]})}function wa(e){var a=JSON.parse(ka.sendSync("get-data"));ya.chain(a).get("produkti").value().forEach((function(a){var t=a["fiks\u0113tie"];t.vien_summa=e,t.summa=t.vien_summa*t.vien_daudzums})),ka.sendSync("modify-data",[JSON.stringify(a)])}var Fa=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0442\u0440\u0430\u0442\u044b"}),Object(p.jsx)(V,{headerNames:["Nosaukums","Eur"],tableBody:Object(p.jsx)(Sa,{})})]})},Aa=window.require("electron").ipcRenderer,_a=t(21),za=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).state={nosaukums:"",cena:"",showAlert:!1,alertMessage:""},n.data={},n.handleNameChange=n.handleNameChange.bind(Object(ca.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(ca.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(ca.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({cena:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ja,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(Ma,{nosaukums:this.state.nosaukums,cena:this.state.cena,handleNameChange:this.handleNameChange,handlePriceChange:this.handlePriceChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function Ja(e){return e.showAlert?Object(p.jsx)(oa.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}var Ma=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleSubmit",value:function(e){var a,t=this;if(e.preventDefault(),this.data=JSON.parse(Aa.sendSync("get-data")),this.data=_a.chain(this.data).get("udens_sagatavosana").value(),""===this.props.nosaukums||""===this.props.cena)this.props.setShowAlert(!0),this.props.setAlertMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===t.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('\u0412\u043e\u0434\u043e\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'.concat(this.props.nosaukums,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else if("string"!=typeof(a=this.props.cena)||isNaN(a)||isNaN(parseFloat(a)))this.props.setShowAlert(!0),this.props.setAlertMessage("\u0426\u0435\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");else{var n={nosaukums:this.props.nosaukums,cena:parseFloat(this.props.cena)};this.data=JSON.parse(Aa.sendSync("get-data")),_a.chain(this.data).get("udens_sagatavosana").push(n).value(),Aa.sendSync("modify-data",[JSON.stringify(this.data)])}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u043e\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u043a\u0438\u043b\u043e\u0433\u0440\u0430\u043c\u043c"}),Object(p.jsx)(F.a.Control,{placeholder:"\u0426\u0435\u043d\u0430",value:this.props.cena,onChange:this.props.handlePriceChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}}]),t}(s.a.Component),Pa=za,Ea=window.require("electron").ipcRenderer,Ga=t(21);function Va(e){var a=JSON.parse(Ea.sendSync("get-data"));a=Ga.chain(a).get("udens_sagatavosana").value();var t=[];return a.forEach((function(e){t.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.nosaukums}),Object(p.jsx)("td",{children:Object(p.jsx)(Da,{item:e})}),Object(p.jsx)("td",{children:Object(p.jsx)(Ba,{nosaukums:e.nosaukums})})]},e.nosaukums.toString()))})),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:t})})}function Da(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1];return Object(p.jsx)(F.a,{noValidate:!0,validated:o,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:s,onChange:function(e){r(e.target.value)},onBlur:function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),l(!0);else{l(!1);var t=JSON.parse(Ea.sendSync("get-data"));Ga.chain(t).get("udens_sagatavosana").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).value();var n=Ga.chain(t).get("produkti").value(),r=Ga.chain(t).get("grupas").value();n.forEach((function(a){Ga.chain(a).get("udens_sagatavosana").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).value()})),r.forEach((function(a){Ga.chain(a).get("udens_sagatavosana").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).value()})),Ea.sendSync("modify-data",[JSON.stringify(t)])}}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})}function Ba(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=JSON.parse(Ea.sendSync("get-data"));Ea.send("warning-delete"),Ea.on("confirm-delete",(function(t,n){Ga.chain(a).get("udens_sagatavosana").remove({nosaukums:e.nosaukums}).value(),Ea.sendSync("modify-data",[JSON.stringify(a)])}))},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}var qa=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"\u0412\u043e\u0434\u043e\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430"}),Object(p.jsx)(V,{headerNames:["Nosaukums","Eur/vien",""],tableBody:Object(p.jsx)(Va,{})}),Object(p.jsx)($e,{message:"water:ask-for-window"})]})},Ta=window.require("electron").ipcRenderer,Ia=t(21),Ra="",La="";var Ka=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).state={showAlert:!1,alertMessage:""},n.entryName=e.entryName,n.expenses=e.expenses,n.setShowAlert=n.setShowAlert.bind(Object(ca.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ha,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(Ua,Object(w.a)({setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage},this.props))]})}}]),t}(s.a.Component);function Ha(e){return e.showAlert?Object(p.jsx)(oa.a,{variant:"danger",className:"alert-fixed",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}function Ua(e){return"izejvielas"===e.info.from?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Xa,{}),Object(p.jsx)(Qa,Object(w.a)({},e))]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Xa,{}),Object(p.jsx)(V,{headerNames:e.headerNames,tableBody:Object(p.jsx)(Ya,Object(w.a)({},e))})]})}function Wa(e,a,t,n){return console.log(n.props),Object(p.jsx)(st,{setAlertMessage:n.props.setAlertMessage,setShowAlert:n.props.setShowAlert,row:a})}function Qa(e){var a=Xe.Search.SearchBar,t=[{dataField:"kods",text:"Kods",editable:!1,sort:!0,headerAlign:"center",headerStyle:{width:"80px"}},{dataField:"nosaukums",text:"Nosaukums",sort:!0,headerAlign:"center",editable:!1},{dataField:"mervieniba",text:"M\u0113rvieniba",headerAlign:"center",headerStyle:{width:"12%"},editable:!1},{dataField:"cena",text:"Cena",sort:!0,headerAlign:"center",headerStyle:{width:"200px"},editable:!1},{dataField:"",text:"\u0423\u0431\u0440\u0430\u0442\u044c",headerAlign:"center",headerStyle:{width:"80px"},editable:!1,formatter:Wa,formatExtraData:{props:e}}];return Object(p.jsx)(Ye.a,{keyField:"nosaukums",data:e.expenses,columns:t,search:!0,children:function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h5",{children:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e:"}),Object(p.jsx)(a,Object(w.a)(Object(w.a)({},e.searchProps),{},{className:"custom-search-field",placeholder:"\u041d\u0430\u0439\u0442\u0438",srText:""})),Object(p.jsx)("hr",{}),Object(p.jsx)(Ue.a,Object(w.a)(Object(w.a)({},e.baseProps),{},{bootstrap4:!0,striped:!0,hover:!0,condensed:!0}))]})}})}function Xa(){var e;switch(Ra.from){case"izejvielas":e="\u0421\u044b\u0440\u044c\u0451";break;case"fiks\u0113tie":e="\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435";break;case"udens_sagatavosana":e="\u0412\u043e\u0434\u043e\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430";break;case"iepakojums":e="\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430";break;case"darbinieki":e="\u0420\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0438";break;case"ra\u017eo\u0161anas_grupas":e="\u0413\u0440\u0443\u043f\u043f\u044b \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432";break;default:throw new Error('Unknown "from" entry')}return Object(p.jsx)("h2",{children:e})}function Ya(e){var a,t=[];switch(Ra.from){case"izejvielas":a=Object(p.jsx)(Za,Object(w.a)({},e));break;case"fiks\u0113tie":a=Object(p.jsx)($a,Object(w.a)({},e));break;case"udens_sagatavosana":a=Object(p.jsx)(et,Object(w.a)({},e));break;case"iepakojums":a=Object(p.jsx)(at,Object(w.a)({},e));break;case"darbinieki":a=Object(p.jsx)(tt,Object(w.a)({},e));break;case"ra\u017eo\u0161anas_grupas":a=Object(p.jsx)(nt,Object(w.a)({},e));break;default:throw new Error('Unknown "from" entry')}return e.expenses.forEach((function(e){t.push(s.a.cloneElement(a,{item:e}))})),Object(p.jsx)("tbody",{children:t})}function Za(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:e.item.cena}),Object(p.jsx)("td",{children:Object(p.jsx)(st,Object(w.a)({},e))})]})}function $a(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.cena}),Object(p.jsx)("td",{children:Object(p.jsx)(st,Object(w.a)({},e))})]})}function et(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.cena}),Object(p.jsx)("td",{children:Object(p.jsx)(st,Object(w.a)({},e))})]})}function at(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.kods}),Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.mervieniba}),Object(p.jsx)("td",{children:e.item.cena}),Object(p.jsx)("td",{children:Object(p.jsx)(st,Object(w.a)({},e))})]})}function tt(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:e.item.alga.toFixed(m.floatPrecisionThird)}),Object(p.jsx)("td",{children:e.item.alga_nodoklis.toFixed(m.floatPrecisionThird)}),Object(p.jsx)("td",{children:Object(p.jsx)(st,Object(w.a)({},e))})]})}function nt(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.item.nosaukums}),Object(p.jsx)("td",{children:Object(p.jsx)(st,Object(w.a)({},e))})]})}function st(e){return Object(p.jsx)(h.a,{variant:"success",type:"button",size:"sm",onClick:function(){var a={};if("all"===Ra.type)switch(Ra.from){case"izejvielas":a={kods:e.row.kods,nosaukums:e.row.nosaukums,mervieniba:e.row.mervieniba,cena:e.row.cena,daudzums:1,kopuma:e.row.cena};break;case"fiks\u0113tie":case"udens_sagatavosana":a={nosaukums:e.item.nosaukums,cena:e.item.cena};break;case"iepakojums":a={kods:e.item.kods,nosaukums:e.item.nosaukums,mervieniba:e.item.mervieniba,cena:e.item.cena,norma:1,summa_iepak:e.item.cena,summa_vien:e.item.cena};break;case"darbinieki":var t=JSON.parse(Ta.sendSync("get-data")),n=Ia.chain(t).get(Ra.to).find({nosaukums:La}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:Ra.raz_grupas_nosaukums}).get("daudzums").value();a={nosaukums:e.item.nosaukums,alga:e.item.alga,alga_nodoklis:e.item.alga_nodoklis,norma:1,summa:e.item.alga_nodoklis,summa_vien:e.item.alga_nodoklis/n};break;default:throw new Error('Unknown "from" entry')}else"group"===Ra.type&&(a=e.item);var s=function(e){var t;if("iepakojums"===Ra.from){var n=JSON.parse(Ta.sendSync("get-data")),s=Ia.chain(n).get(Ra.to).find({nosaukums:e}).get("iepakojums").get("elementi");if(void 0!==s.find({nosaukums:a.nosaukums}).value())return"Already in the list";s.push(a).value(),Ta.sendSync("modify-data",[JSON.stringify(n)])}else if("darbinieki"===Ra.from){var r=JSON.parse(Ta.sendSync("get-data")),i=Ia.chain(r).get(Ra.to).find({nosaukums:e}).get("ra\u017eo\u0161anas_grupas").find({nosaukums:Ra.raz_grupas_nosaukums}).get("darbinieki");if(void 0!==i.find({nosaukums:a.nosaukums}).value())return"Already in the list";i.push(a).value(),Ta.sendSync("modify-data",[JSON.stringify(r)])}else{t=JSON.parse(Ta.sendSync("get-data"));var c=Ia.chain(t).get(Ra.to).find({nosaukums:e}).get(Ra.from);if(void 0!==c.find({nosaukums:a.nosaukums}).value())return"Already in the list";c.push(a).value(),Ta.sendSync("modify-data",[JSON.stringify(t)])}return null}(La);if("Already in the list"===s){var r="";switch(Ra.from){case"izejvielas":r='\u0421\u044b\u0440\u044c\u0435 "'+e.row.nosaukums+'" \u0443\u0436\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435';break;case"fiks\u0113tie":r='\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0437\u0430\u0442\u0440\u0430\u0442\u0430 "'+e.item.nosaukums+'" \u0443\u0436\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435';break;case"udens_sagatavosana":r='\u0412\u043e\u0434\u043e\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 "'+e.item.nosaukums+'" \u0443\u0436\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435';break;case"iepakojums":r='\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 "'+e.item.nosaukums+'" \u0443\u0436\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435';break;case"darbinieki":r='\u0420\u0430\u0431\u043e\u0442\u043d\u0438\u043a "'+e.item.nosaukums+'" \u0443\u0436\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435';break;case"ra\u017eo\u0161anas_grupas":r='\u0413\u0440\u0443\u043f\u043f\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 "'+e.item.nosaukums+'" \u0443\u0436\u0435 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435';break;default:throw new Error('Unknown "from" entry')}e.setAlertMessage(r),e.setShowAlert(!0)}},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}var rt=function(){var e=Object(b.h)(),a=e.destinationEntryNameTemp,t=e.infoTemp;La=a;var n="",s="";switch((Ra=JSON.parse(t)).from){case"izejvielas":case"iepakojums":s=["Kods","Nosaukums","M\u0113rvien\u012bba","Cena","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"];break;case"fiks\u0113tie":case"udens_sagatavosana":s=["Nosaukums","Cena","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"];break;case"darbinieki":s=["Nosaukums","Alga","Alga ar nodok\u013ci","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"];break;default:s=["Nosaukums","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"]}if("all"===Ra.type){var r=JSON.parse(Ta.sendSync("get-data"));n=Ia.chain(r).get(Ra.from).value()}else if("group"===Ra.type){var i=JSON.parse(Ta.sendSync("get-data")),c=Ia.chain(i).get("produkti").find({nosaukums:La}).get("grupa").value();n="iepakojums"===Ra.from?Ia.chain(i).get("grupas").find({nosaukums:c}).get("iepakojums").get("elementi").value():Ia.chain(i).get("grupas").find({nosaukums:c}).get(Ra.from).value()}return Object(p.jsx)(Ka,{destinationEntryName:La,expenses:n,headerNames:s,info:Ra})},it=window.require("electron").ipcRenderer,ct=t(21);function ot(e){var a=JSON.parse(it.sendSync("get-data"));a=ct.chain(a).get("iepakojums").value();var t=[];return a.forEach((function(a){t.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a.kods}),Object(p.jsx)("td",{children:a.nosaukums}),Object(p.jsx)("td",{children:a.mervieniba}),Object(p.jsx)("td",{children:Object(p.jsx)(lt,Object(w.a)({item:a},e))}),Object(p.jsx)("td",{children:Object(p.jsx)(dt,Object(w.a)({nosaukums:a.nosaukums},e))})]},a.nosaukums.toString()))})),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:t})})}function lt(e){var a=Object(n.useState)(parseFloat(e.item.cena)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1];return Object(p.jsx)(F.a,{noValidate:!0,validated:o,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:s,onChange:function(e){r(e.target.value)},onBlur:function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),l(!0);else{l(!1);var t=JSON.parse(it.sendSync("get-data"));ct.chain(t).get("iepakojums").find({nosaukums:e.item.nosaukums}).assign({cena:parseFloat(s)}).value();var n=ct.chain(t).get("produkti").value(),r=ct.chain(t).get("grupas").value();n.forEach((function(a){var t=ct.chain(a).get("iepakojums").value(),n=ct.chain(t).get("daudzums").value(),r=ct.chain(t).get("elementi").find({nosaukums:e.item.nosaukums}).value();if(void 0!==r){var i=s*r.norma,c=i/n;ct.chain(r).assign({cena:parseFloat(s)}).assign({summa_iepak:parseFloat(i)}).assign({summa_vien:parseFloat(c)}).value()}})),r.forEach((function(a){var t=ct.chain(a).get("iepakojums").value(),n=ct.chain(t).get("daudzums").value(),r=ct.chain(t).get("elementi").find({nosaukums:e.item.nosaukums}).value();if(void 0!==r){var i=s*r.norma,c=i/n;ct.chain(r).assign({cena:parseFloat(s)}).assign({summa_iepak:parseFloat(i)}).assign({summa_vien:parseFloat(c)}).value()}})),it.sendSync("modify-data",[JSON.stringify(t)])}}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})}function dt(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=JSON.parse(it.sendSync("get-data"));it.send("warning-delete"),it.on("confirm-delete",(function(t,n){ct.chain(a).get("iepakojums").remove({nosaukums:e.nosaukums}).value(),it.sendSync("modify-data",[JSON.stringify(a)])}))},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}var ut=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430"}),Object(p.jsx)(V,{headerNames:["Kods","Nosaukums","M\u0113rvien\u012bba","Cena","\u0423\u0431\u0440\u0430\u0442\u044c"],tableBody:Object(p.jsx)(ot,{})}),Object(p.jsx)($e,{message:"package:ask-for-window"})]})},jt=window.require("electron").ipcRenderer,ht=t(21),mt=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).state={kods:"",nosaukums:"",mervieniba:"",cena:"",showAlert:!1,alertMessage:""},n.data={},n.handleKodsChange=n.handleKodsChange.bind(Object(ca.a)(n)),n.handleNameChange=n.handleNameChange.bind(Object(ca.a)(n)),n.handleMervienibaChange=n.handleMervienibaChange.bind(Object(ca.a)(n)),n.handlePriceChange=n.handlePriceChange.bind(Object(ca.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(ca.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleKodsChange",value:function(e){this.setState({kods:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handleMervienibaChange",value:function(e){console.log(e.target.value),this.setState({mervieniba:e.target.value})}},{key:"handlePriceChange",value:function(e){this.setState({cena:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(bt,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(Ot,{kods:this.state.kods,nosaukums:this.state.nosaukums,mervieniba:this.state.mervieniba,cena:this.state.cena,handleKodsChange:this.handleKodsChange,handleMervienibaChange:this.handleMervienibaChange,handleNameChange:this.handleNameChange,handlePriceChange:this.handlePriceChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function bt(e){return e.showAlert?Object(p.jsx)(oa.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}function pt(e){return"string"==typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))}var Ot=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleSubmit",value:function(e){var a=this;if(e.preventDefault(),this.data=JSON.parse(jt.sendSync("get-data")),this.data=ht.chain(this.data).get("iepakojums").value(),""===this.props.nosaukums||""===this.props.cena||""===this.props.kods||""===this.props.mervieniba)this.props.setShowAlert(!0),this.props.setAlertMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===a.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('\u0421\u044b\u0440\u044c\u0435 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'.concat(this.props.nosaukums,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else if(pt(this.props.cena))if(pt(this.props.kods)){var t={kods:parseInt(this.props.kods),nosaukums:this.props.nosaukums,mervieniba:this.props.mervieniba,cena:parseFloat(this.props.cena)},n=JSON.parse(jt.sendSync("get-data"));ht.chain(n).get("iepakojums").push(t).value(),jt.sendSync("modify-data",[JSON.stringify(n)])}else this.props.setShowAlert(!0),this.props.setAlertMessage("\u041a\u043e\u0434 \u0432\u0432\u0435\u0434\u0435\u043d \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");else this.props.setShowAlert(!0),this.props.setAlertMessage("\u0426\u0435\u043d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435")}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041a\u043e\u0434"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.kods,onChange:this.props.handleKodsChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"M\u0113rvien\u012bba"}),Object(p.jsxs)(F.a.Select,{"aria-label":"Default select example",value:this.props.mervieniba,onChange:this.props.handleMervienibaChange,children:[Object(p.jsx)("option",{value:"",children:"M\u0113rvien\u012bba"}),Object(p.jsx)("option",{value:"kg",children:"kg"}),Object(p.jsx)("option",{value:"gab",children:"gab"}),Object(p.jsx)("option",{value:"l",children:"l"})]})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u0435\u0434\u0438\u043d\u0438\u0446\u0443"}),Object(p.jsx)(F.a.Control,{placeholder:"\u0426\u0435\u043d\u0430",value:this.props.cena,onChange:this.props.handlePriceChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}}]),t}(s.a.Component),gt=mt,xt=window.require("electron").ipcRenderer,ft=t(21),vt=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).state={nosaukums:"",alga:"",showAlert:!1,alertMessage:""},n.data={},n.handleNameChange=n.handleNameChange.bind(Object(ca.a)(n)),n.handleAlgaChange=n.handleAlgaChange.bind(Object(ca.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(ca.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"handleAlgaChange",value:function(e){this.setState({alga:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(kt,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return e.setShowAlert(!1)}}),Object(p.jsx)(yt,{nosaukums:this.state.nosaukums,alga:this.state.alga,handleNameChange:this.handleNameChange,handleAlgaChange:this.handleAlgaChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage})]})}}]),t}(s.a.Component);function kt(e){return e.showAlert?Object(p.jsx)(oa.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}var yt=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),this.data=JSON.parse(xt.sendSync("get-data"));var t,n=ft.chain(this.data).get("darbinieku_nodoklis").value();if(this.data=ft.chain(this.data).get("darbinieki").value(),""===this.props.nosaukums||""===this.props.alga)this.props.setShowAlert(!0),this.props.setAlertMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===a.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('\u0420\u0430\u0431\u043e\u0442\u043d\u0438\u043a \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'.concat(this.props.nosaukums,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else if("string"!=typeof(t=this.props.alga)||isNaN(t)||isNaN(parseFloat(t)))this.props.setShowAlert(!0),this.props.setAlertMessage("\u0417\u0430\u0440\u043f\u043b\u0430\u0442\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435");else{var s=parseFloat(this.props.alga),r=s*n/100,i=s+r,c={nosaukums:this.props.nosaukums,alga:s,alga_procents:r,alga_nodoklis:i},o=JSON.parse(xt.sendSync("get-data"));ft.chain(o).get("darbinieki").push(c).value(),xt.sendSync("modify-data",[JSON.stringify(o)])}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupPrice",children:[Object(p.jsx)(F.a.Label,{children:"\u0421\u0442\u0430\u0432\u043a\u0430"}),Object(p.jsx)(F.a.Control,{placeholder:"\u0426\u0435\u043d\u0430",value:this.props.alga,onChange:this.props.handleAlgaChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}}]),t}(s.a.Component),St=vt,Nt=window.require("electron").ipcRenderer,Ct=t(21);function wt(e){var a=JSON.parse(Nt.sendSync("get-data")),t=Object(n.useState)(a.darbinieku_nodoklis),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u043b\u043e\u0433 \u043d\u0430 \u0437\u0430\u0440\u043f\u043b\u0430\u0442\u0443(%)"}),Object(p.jsx)(F.a.Control,{id:"daudzums",type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:r,onChange:function(e){i(e.target.value)},onBlur:function(e){if(!1===e.currentTarget.checkValidity())e.preventDefault(),e.stopPropagation(),d(!0);else{d(!1);var a=JSON.parse(Nt.sendSync("get-data"));a.darbinieku_nodoklis=r;var t=a.darbinieki,n=Ct.chain(a).get("produkti").value(),s=Ct.chain(a).get("grupas").value();t.forEach((function(e){e.alga_procents=e.alga*r/100,e.alga_nodoklis=e.alga+e.alga_procents,n.forEach((function(a){Ct.chain(a).get("ra\u017eo\u0161anas_grupas").value().forEach((function(a){var t=a.daudzums,n=Ct.chain(a).get("darbinieki").find({nosaukums:e.nosaukums}).value();void 0!==n&&(n.alga_nodoklis=e.alga_nodoklis,n.summa=e.alga_nodoklis*n.norma,n.summa_vien=n.summa/t)}))})),s.forEach((function(a){Ct.chain(a).get("ra\u017eo\u0161anas_grupas").value().forEach((function(a){var t=a.daudzums,n=Ct.chain(a).get("darbinieki").find({nosaukums:e.nosaukums}).value();void 0!==n&&(n.alga_nodoklis=e.alga_nodoklis,n.summa=e.alga_nodoklis*n.norma,n.summa_vien=n.summa/t)}))}))})),Nt.sendSync("modify-data",[JSON.stringify(a)])}}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u043b\u043e\u0433"})]})})})}function Ft(e){var a=JSON.parse(Nt.sendSync("get-data"));a=Ct.chain(a).get("darbinieki").value();var t=[];return a.forEach((function(a){t.push(Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:a.nosaukums}),Object(p.jsx)("td",{children:Object(p.jsx)(At,Object(w.a)({item:a},e))}),Object(p.jsx)("td",{children:a.alga_procents.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:a.alga_nodoklis.toFixed(m.floatPrecisionSecondary)}),Object(p.jsx)("td",{children:Object(p.jsx)(_t,Object(w.a)({nosaukums:a.nosaukums},e))})]},a.nosaukums.toString()))})),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:t})})}function At(e){var a=Object(n.useState)(parseFloat(e.item.alga)),t=Object(C.a)(a,2),s=t[0],r=t[1],i=Object(n.useState)(!1),c=Object(C.a)(i,2),o=c[0],l=c[1];return Object(p.jsx)(F.a,{noValidate:!0,validated:o,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:s,onChange:function(e){r(e.target.value)},onBlur:function(a){if(!1===a.currentTarget.checkValidity())a.preventDefault(),a.stopPropagation(),l(!0);else{l(!1);var t=JSON.parse(Nt.sendSync("get-data")),n=t.darbinieku_nodoklis,r=Ct.chain(t).get("darbinieki").find({nosaukums:e.item.nosaukums}).value();r.alga=parseFloat(s),r.alga_procents=r.alga*n/100,r.alga_nodoklis=r.alga+r.alga_procents;var i=Ct.chain(t).get("produkti").value(),c=Ct.chain(t).get("grupas").value();i.forEach((function(a){Ct.chain(a).get("ra\u017eo\u0161anas_grupas").value().forEach((function(a){var t=a.daudzums,n=Ct.chain(a).get("darbinieki").find({nosaukums:e.item.nosaukums}).value();void 0!==n&&(n.alga=r.alga,n.alga_nodoklis=r.alga_nodoklis,n.summa=n.alga_nodoklis*n.norma,n.summa_vien=n.summa/t)}))})),c.forEach((function(a){Ct.chain(a).get("ra\u017eo\u0161anas_grupas").value().forEach((function(a){var t=a.daudzums,n=Ct.chain(a).get("darbinieki").find({nosaukums:e.item.nosaukums}).value();if(void 0!==n){var r=s*n.norma,i=r/t;Ct.chain(n).assign({alga:parseFloat(s)}).assign({summa:parseFloat(r)}).assign({summa_vien:parseFloat(i)}).value()}}))})),Nt.sendSync("modify-data",[JSON.stringify(t)])}}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0432\u043a\u0443"})]})})}function _t(e){return Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){var a=JSON.parse(Nt.sendSync("get-data"));Nt.send("warning-delete"),Nt.on("confirm-delete",(function(t,n){Ct.chain(a).get("darbinieki").remove({nosaukums:e.nosaukums}).value(),Nt.sendSync("modify-data",[JSON.stringify(a)])}))},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})}var zt=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0431\u043e\u0447\u0438\u0445"}),Object(p.jsx)(wt,{}),Object(p.jsx)(V,{headerNames:["Nosaukums","Alga","% Da\u013ca","Summa","\u0423\u0431\u0440\u0430\u0442\u044c"],tableBody:Object(p.jsx)(Ft,{})}),Object(p.jsx)($e,{message:"workers:ask-for-window"})]})},Jt=window.require("electron").ipcRenderer,Mt=t(21);function Pt(e){var a=JSON.parse(Jt.sendSync("get-data"));Mt.chain(a).get("produkti").value().forEach((function(a){var t=a.elektriba;t.vien_summa=e,t.summa=t.vien_summa*t.vien_daudzums})),Jt.sendSync("modify-data",[JSON.stringify(a)])}function Et(e){var a=JSON.parse(Jt.sendSync("get-data")),t=Mt.chain(a).get("elektriba").value(),s=Object(n.useState)(parseFloat(t.cena)),r=Object(C.a)(s,2),i=r[0],c=r[1],o=Object(n.useState)(!1),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(t.izlietota),h=Object(C.a)(j,2),m=h[0],b=h[1],O=Object(n.useState)(!1),g=Object(C.a)(O,2),x=g[0],f=g[1],v=Object(n.useState)(t.vien_daudzums),k=Object(C.a)(v,2),y=k[0],S=k[1],N=Object(n.useState)(!1),w=Object(C.a)(N,2),A=w[0],_=w[1],z=Object(n.useState)(parseFloat(t.summa)),J=Object(C.a)(z,2),M=J[0],P=J[1],E=Object(n.useState)(!1),G=Object(C.a)(E,2),V=G[0],D=G[1],B=Object(n.useState)(parseFloat(t.vien_summa)),q=Object(C.a)(B,2),T=q[0],I=q[1],R=Object(n.useState)(!1),L=Object(C.a)(R,2),K=L[0],H=L[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("tbody",{children:[Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u0426\u0435\u043d\u0430 \u0437\u0430 kW:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:d,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0426\u0435\u043d\u0430",value:i,onChange:function(e){c(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),u(!0)):(u(!1),t.cena=parseFloat(i),t.summa=t.izlietota*t.cena,t.vien_summa=t.summa/t.vien_daudzums,Jt.sendSync("modify-data",[JSON.stringify(a)]),Pt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e (kWh):"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:x,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:m,onChange:function(e){b(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),f(!0)):(f(!1),t.izlietota=parseFloat(m),t.summa=t.izlietota*t.cena,t.vien_summa=t.summa/t.vien_daudzums,Jt.sendSync("modify-data",[JSON.stringify(a)]),Pt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0415\u0434\u0438\u043d\u0438\u0446 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043d\u043e:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:A,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:y,onChange:function(e){S(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),_(!0)):(_(!1),t.vien_daudzums=parseFloat(y),t.vien_summa=t.summa/t.vien_daudzums,Jt.sendSync("modify-data",[JSON.stringify(a)]),Pt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0421\u0447\u0435\u0442 \u0437\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:V,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:M,onChange:function(e){P(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),D(!0)):(D(!1),t.summa=parseFloat(M),t.vien_summa=t.summa/t.vien_daudzums,t.izlietota=t.summa/t.cena,Jt.sendSync("modify-data",[JSON.stringify(a)]),Pt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]}),Object(p.jsxs)("tr",{className:"align-middle ",children:[Object(p.jsx)("td",{className:"text-end",children:"\u0426\u0435\u043d\u0430/\u0435\u0434:"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:K,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u041a\u043e\u043b-\u0432\u043e",value:T,onChange:function(e){I(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),H(!0)):(H(!1),t.vien_summa=parseFloat(T),t.summa=t.vien_summa*t.vien_daudzums,t.izlietota=t.summa/t.cena,Jt.sendSync("modify-data",[JSON.stringify(a)]),Pt(t.vien_summa))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})]})})})]})]})})}var Gt=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"\u0426\u0435\u043d\u0430 \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(p.jsx)(V,{headerNames:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"],tableBody:Object(p.jsx)(Et,{})})]})},Vt=window.require("electron").ipcRenderer,Dt=t(21);var Bt=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).state={nosaukums:"",alga:"",showAlert:!1,alertMessage:""},n.data={},n.handleNameChange=n.handleNameChange.bind(Object(ca.a)(n)),n.setShowAlert=n.setShowAlert.bind(Object(ca.a)(n)),n.setAlertMessage=n.setAlertMessage.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleNameChange",value:function(e){this.setState({nosaukums:e.target.value})}},{key:"setShowAlert",value:function(e){this.setState({showAlert:e})}},{key:"setAlertMessage",value:function(e){this.setState({alertMessage:e})}},{key:"render",value:function(e){var a=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(qt,{showAlert:this.state.showAlert,alertMessage:this.state.alertMessage,onClose:function(){return a.setShowAlert(!1)}}),Object(p.jsx)(Tt,Object(w.a)({nosaukums:this.state.nosaukums,handleNameChange:this.handleNameChange,setShowAlert:this.setShowAlert,setAlertMessage:this.setAlertMessage},this.props))]})}}]),t}(s.a.Component);function qt(e){return e.showAlert?Object(p.jsx)(oa.a,{variant:"danger",onClose:e.onClose,dismissible:!0,children:e.alertMessage}):null}var Tt=function(e){Object(M.a)(t,e);var a=Object(P.a)(t);function t(e){var n;return Object(z.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(ca.a)(n)),n}return Object(J.a)(t,[{key:"handleSubmit",value:function(e){var a=this;if(e.preventDefault(),this.data=JSON.parse(Vt.sendSync("get-data")),this.data=Dt.chain(this.data).get(this.props.type).find({nosaukums:this.props.productName}).get("ra\u017eo\u0161anas_grupas").value(),""===this.props.nosaukums)this.props.setShowAlert(!0),this.props.setAlertMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");else if("undefined"!=typeof this.data.find((function(e){return e.nosaukums===a.props.nosaukums})))this.props.setShowAlert(!0),this.props.setAlertMessage('\u0413\u0440\u0443\u043f\u043f\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c "'.concat(this.props.nosaukums,'" \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442'));else{var t={nosaukums:this.props.nosaukums,daudzums:1,darbinieki:[]},n=JSON.parse(Vt.sendSync("get-data"));Dt.chain(n).get(this.props.type).find({nosaukums:this.props.productName}).get("ra\u017eo\u0161anas_grupas").push(t).value(),Vt.sendSync("modify-data",[JSON.stringify(n)])}}},{key:"render",value:function(){return Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{className:"mb-3",controlId:"formGroupName",children:[Object(p.jsx)(F.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(p.jsx)(F.a.Control,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:this.props.nosaukums,onChange:this.props.handleNameChange})]}),Object(p.jsx)(h.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}}]),t}(s.a.Component),It=function(e){var a=Object(b.h)(),t=a.productName,n=a.type;return Object(p.jsx)(Bt,{productName:t,type:n})},Rt=window.require("electron").ipcRenderer,Lt=t(21);function Kt(e){var a=JSON.parse(Rt.sendSync("get-data")),t=Object(n.useState)(parseFloat(a.alcohol_tax)),s=Object(C.a)(t,2),r=s[0],i=s[1],c=Object(n.useState)(!1),o=Object(C.a)(c,2),l=o[0],d=o[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{className:"align-middle",children:[Object(p.jsx)("td",{className:"col-md-3 text-end",children:"\u0410\u043a\u0446\u0438\u0437 (\u0437\u0430 1 \u0433\u0440\u0430\u0434\u0443\u0441 \u043d\u0430 100\u043b):"}),Object(p.jsx)("td",{children:Object(p.jsx)(F.a,{noValidate:!0,validated:l,children:Object(p.jsxs)(F.a.Group,{children:[Object(p.jsx)(F.a.Control,{type:"number",required:!0,placeholder:"\u0410\u043a\u0446\u0438\u0437 (\u0437\u0430 1 \u0433\u0440\u0430\u0434\u0443\u0441 \u043d\u0430 100\u043b)",value:r,onChange:function(e){i(e.target.value)},onBlur:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation(),d(!0)):(d(!1),a.alcohol_tax=parseFloat(r),Rt.sendSync("modify-data",[JSON.stringify(a)]),function(e){var a=JSON.parse(Rt.sendSync("get-data"));Lt.chain(a).get("produkti").value().forEach((function(a){var t=a.alcohol_tax;null!=t&&(t.value=e,t.summa=t.value*t.alcohol/100*t.volume)})),Rt.sendSync("modify-data",[JSON.stringify(a)])}(a.alcohol_tax))},style:{width:"200px",height:"30px"}}),Object(p.jsx)(F.a.Control.Feedback,{type:"invalid",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u043a\u0446\u0438\u0437"})]})})})]})})})}var Ht=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)("h3",{className:"text-center",children:"\u0410\u043a\u0446\u0438\u0437"}),Object(p.jsx)(V,{headerNames:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"],tableBody:Object(p.jsx)(Kt,{})})]})},Ut=window.require("electron").ipcRenderer;var Wt=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430"}),Object(p.jsx)("h3",{children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442?"}),Object(p.jsx)(h.a,{variant:"secondary",size:"sm",onClick:function(){Ut.send("cancel-delete")},children:"\u043e\u0442\u043c\u0435\u043d\u0430"}),Object(p.jsx)(h.a,{variant:"danger",size:"sm",onClick:function(){Ut.send("confirm-delete")},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"})]})};var Qt=function(e){var a=Object(n.useState)(null),t=Object(C.a)(a,2),s=t[0],r=t[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(F.a,{children:[Object(p.jsxs)(F.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(p.jsx)(F.a.Label,{children:"Default file input example"}),Object(p.jsx)(F.a.Control,{type:"file",onChange:function(e){r(e.target.value)}})]}),Object(p.jsx)(h.a,{variant:"success",type:"button",size:"sm",onClick:function(){console.log("clicked!!!"),console.log(s)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})})},Xt=t(44);function Yt(){var e=Object(b.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function Zt(){return Object(p.jsx)("h1",{children:"404 Error"})}function $t(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.c,{children:Object(p.jsx)(b.a,{exact:!0,path:"/product-:kods",children:Object(p.jsx)(Ge,{})})})})}function en(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(b.c,{children:[Object(p.jsx)(b.a,{exact:!0,path:"/raw-material-all",children:Object(p.jsx)(ia,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/raw-material-group",children:Object(p.jsx)(ia,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/raw-material-add",children:Object(p.jsx)(ba,{})})]})})}function an(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(b.c,{children:Object(p.jsx)(b.a,{exact:!0,path:"/group-:groupName",children:Object(p.jsx)(Ke,{})})})})}i.a.render(Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Xt.a,{children:Object(p.jsxs)(b.c,{children:[Object(p.jsx)(b.a,{exact:!0,path:"/",children:Object(p.jsx)(N,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/file",children:Object(p.jsx)(Qt,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/product-*",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)($t,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/group-*",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(an,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/expenses-add-window/:destinationEntryNameTemp/:infoTemp",children:Object(p.jsx)(rt,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/raw-material-*",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(en,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/fixed-cost-all",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(Fa,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/fixed-cost-all-add",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(va,{})]}),Object(p.jsxs)(b.a,{exact:!0,path:"/water-all",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(qa,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/water-all-add",children:Object(p.jsx)(Pa,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/package-all",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(ut,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/package-add",children:Object(p.jsx)(gt,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/workers-add",children:Object(p.jsx)(St,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/workers-all",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(zt,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/raz-grupas-add/:productName/:type",children:Object(p.jsx)(It,{})}),Object(p.jsxs)(b.a,{exact:!0,path:"/electricity",children:[Object(p.jsx)(Yt,{}),Object(p.jsx)(Gt,{})]}),Object(p.jsx)(b.a,{exact:!0,path:"/alcohol-tax",children:Object(p.jsx)(Ht,{})}),Object(p.jsx)(b.a,{exact:!0,path:"/warning-delete",children:Object(p.jsx)(Wt,{})}),Object(p.jsx)(b.a,{children:Object(p.jsx)(Zt,{})})]})})}),document.getElementById("root")),c()},26:function(e,a,t){}},[[182,1,2]]]);
//# sourceMappingURL=main.a4970fb3.chunk.js.map